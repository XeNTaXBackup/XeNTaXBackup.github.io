## Post #1
- Username: shcfyd
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-04-17T19:44:04+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

The contents of this post was deleted because of possible forum rules violation.
## Post #2
- Username: falconcool
- Rank: veteran
- Number of posts: 105
- Joined date: Tue Jun 16, 2009 11:41 am
- Post datetime: 2011-04-17T23:00:51+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

Amazing as always Chrrox!And thx again for sharing your  great work.
Do you mind if i ask a question?
How did you dig out the fat table from that encrypted iso header?Or you just analysised the full iso file?
## Post #3
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-04-17T23:26:42+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

My script just extracts the files without names based on header.
all the models and model textures are grouped together after being extracted.
## Post #4
- Username: youngmark
- Rank: veteran
- Number of posts: 145
- Joined date: Thu Sep 02, 2010 8:38 pm
- Post datetime: 2011-04-18T05:02:21+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

Thanks chrrox.

hmdl format for Valkyria Chronicles PS3 is very similar to Macross Trial Frontier PS3.

If you are interested, could you have a look at this file, please?
## Post #5
- Username: Ares722
- Rank: veteran
- Number of posts: 154
- Joined date: Thu Jul 15, 2010 9:15 pm
- Post datetime: 2011-04-18T09:33:07+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

thank you so much chrrox,..amamzing work, thanks again.
## Post #6
- Username: RangerRus
- Rank: beginner
- Number of posts: 21
- Joined date: Tue Apr 19, 2011 1:17 am
- Post datetime: 2011-04-18T17:24:05+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

Good work.
## Post #7
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-04-22T00:40:03+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

Soon we will have something added
## Post #8
- Username: applebees
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Apr 24, 2011 3:40 am
- Post datetime: 2011-04-26T07:07:39+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

Hey everyone i can't seem to open the data.cvm at all... i keep getting 0 files found.  Any ideas?
## Post #9
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-04-26T10:52:30+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

It should look like this

c:\quickbms\quickbms.exe "C:\bms\Valkyria Chronicles HMDL.bms" "c:\bms\data.cvm" "c:\extracted"
also open your data.cvm in a hex editor and take a pic so i can know you have the right files.
## Post #10
- Username: FEATHER
- Rank: advanced
- Number of posts: 75
- Joined date: Sun Jun 13, 2010 1:47 pm
- Post datetime: 2011-04-27T08:31:31+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

Amazing as always chrrox.

There are many HMDL files, here a small list than i made ... 

```
Valkyria Chronicles (PS3)
HMDL list/ Models

598.HMDL 599.HMDL Welkin Gunther Militar standar High
600.HMDL 601.HMDL Welkin Gunther Militar standar Low
602.HMDL 603.HMDL Welkin Gunther civil clothes High
604.HMDL 605.HMDL Welkin Gunther civil clothes Low
608.HMDL 609.HMDL Welkin Gunther Swimsuit
624.HMDL 625.HMDL Alicia Melchiott Low
610.HMDL 611.HMDL Alicia Melchiott High
618.HMDL 619.HMDL Alicia Melchiott bikini
628.HMDL 629.HMDL Isara Gunther
630.HMDL 631.HMDL Isara Gunther Civil Clothes
632.HMDL 633.HMDL Isara Gunther Bikini
764.HMDL 765.HMDL Edy Nelson ?
762.HMDL 763.HMDL Edy Nelson High ?
672.HMDL 673.HMDL Selvaria Bles
650.HMDL 651.HMDL Eleanor Varrot
652.HMDL 653.HMDL Eleanor VarrotOffice
634.HMDL 635.HMDL Brigitte Rosie Stark High
636.HMDL 637.HMDL Brigitte Rosie Stark Low
638.HMDL 639.HMDL Brigitte Rosie Stark Bikini
640.HMDL 641.HMDL Largo Potter High
642.HMDL 643.HMDL Largo Potter Low
646.HMDL 647.HMDL Faldio Landzaat
664.HMDL 665.HMDL Maximilian

 
```


It's not complete but maybe helps somebody
## Post #11
- Username: applebees
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Apr 24, 2011 3:40 am
- Post datetime: 2011-04-28T05:21:16+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

here's the first few lines:  My data.cvm is the straight 3 gig file from the disc-
## Post #12
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-04-28T09:08:05+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

your file is wrong it looks encrypted i am not sure how you dumped it.
## Post #13
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2011-04-29T03:51:40+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

The contents of this post was deleted because of possible forum rules violation.
## Post #14
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-04-29T19:47:42+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

I ripped and categorized every character in the game. I just haven't fully textured them all just encase chrrox adds bone/skin support.

beat the game over twice, unlocked everything. only to find that alot of the content in the game is pre-rendered and not found in the actual game files :\ which is a shame. alot of character models are missing 

anyways I took screenshots of all the character profiles, I've uploaded them to gameFAQs if your interested. 

[http://www.gamefaqs.com/ps3/942165-valk ... les/images](http://www.gamefaqs.com/ps3/942165-valkyria-chronicles/images)
## Post #15
- Username: applebees
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Sun Apr 24, 2011 3:40 am
- Post datetime: 2011-05-01T00:05:36+00:00
- Post Title: Valkyria Chronicles (PS3, PC)

How r u guys decrypting your data?
## Post #16
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-05-01T02:10:09+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

you can't use linux to dump the game you need to use a jail broken console or dev console to get the unencrypted files.
the DATA.cvm files should start with 
CVMH
## Post #17
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-05-01T04:22:02+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

if anyone wishes to have the ability to dump games, you will need a hacked PS3. I believe if your firmware is below 3.5 then your system is able to be hacked. the hack puts your console in debug mode allowing control over the system. this being a forum of hackers, and soon to be hackers, its an essential to anyone here to have a hacked console.
don't be a fool and let having control pass you by. soon the older firmware consoles will fade in stores, and you won't be able to hack your system at a later time.
## Post #18
- Username: jaden
- Rank: mega-veteran
- Number of posts: 209
- Joined date: Sat Feb 05, 2011 8:41 am
- Post datetime: 2011-05-02T01:43:09+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Awesome thanks a lot for this chrrox
## Post #19
- Username: xentax55
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat May 07, 2011 7:28 am
- Post datetime: 2011-05-09T08:12:42+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

I don't have a PS3 able to extract those 3D files sadly (firmware already updated).
For those that have the ability to extract the 3d models, textures and sounds(?) would it be possible to link those files on a download site like filesonic.com, or a cloud based filesystem like dropbox?  I would really like access to them if possible. 

In any case, great job chrrox for devising a way to get at them.
## Post #20
- Username: almondega
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Sun Jan 03, 2010 6:39 am
- Post datetime: 2011-05-09T21:27:09+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Thanks for sharing!

Will it / does it support animation?

Att,
## Post #21
- Username: Chaquan
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Mon May 09, 2011 5:15 pm
- Post datetime: 2011-05-10T00:16:40+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

I extracted from the extraction of texture with RangerRU this, so I do not know if they have more than Chrrox extract (I expect them to, because I think the same way they extract the files) to extract the texture of the same name...
[undecided.gif](https://xentaxbackup.github.io/file/4218_undecided.gif)
## Post #22
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2011-05-11T16:10:00+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

The contents of this post was deleted because of possible forum rules violation.
## Post #23
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-05-11T21:22:22+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

the models are a bit annoying to work with, as max does not work well with double faces. although the VC models don't exactly have double faces.. more or less faces that are very close together.. and they somehow show in a render.

I use max 8 by the way, so my results may be very different then yours. as for transparency.. max isn't very user friendly.. theres no HUGE option that says transparency on your off.

by default if the texture has a 4th channel, aka alpha channel transparency is automatically turned on. to disable it, or enable it properly. you have to go into the material, then say you have a texture on the diffuse channel. click on that to bring up the texture properties

then you want to change the source to opaque (aka solid)

then drag and copy whats in the diffuse channel to your opacity channel.. and repeat the above.. enter texture properties.. etc.. only change your alpha source to alpha.. or something..

I do it all the time, its just I never pay attention to what the names are of everything. play around in the texture properties and you'll get it locked down. unfortunate that max's materials are soo confusing. 

I recommend and new comer start on blender, not max.. blender is the app to use in this day in age.
## Post #24
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2011-05-11T22:19:16+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Well, I'm not a beginner with 3DS Max, I just never used textures with " advanced " options like transparency. Or just a little. I did models and a bit animation for friends or in some little projects. I always used basical textures to get an idea of the thing, and sent models to texturers.

Apart from that, first, thank you for your answer. But I've already been through this manipulation, and that actually hide all black parts ( Despite I lost some outlines we can see in the ingame cutscenes, but I think that is in bump files ), but I still have the second problem : Some parts of hair disappeared ( I insist on the fact that I said only some parts, not entire hair ), and I got species of holes everywhere in the hair. I can take a screenshot if you want.

I noticed that I got this holes regardless of the opacity : Even at 0, I got black tips AND holes. So it's surely another parameter, but which ?
## Post #25
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-05-11T22:49:59+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

which model? tell me the model and I'll setup a max scene


EDIT

Sorry, noticed you supplied the texture already. I've setup and example scene in max8. 
checkout the material for the hair, or drag and drop that material onto your scene's current hair.



you can change the filter colour to alter the exiting colour of the transparent parts. by default its grey.. but under well light scene setups.. and can result in some darkened areas around the tip of the hair. if you had to you can tweak the filter colour lighter.. but you'll get this below result



this might not even be the cause of your problem.. a dark area around the tip of any geometry is related to the surface normals, and is no way related to the materials.. I would need to see your scene or have more detail of the problem..
[texture_test.zip](https://xentaxbackup.github.io/file/4231_texture_test.zip)
## Post #26
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2011-05-14T21:20:54+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

'Scuse me for the waiting time, but I couldn't respond earlier. Thanks for your explanation, but your textures options are all the same as mine ( Except Relief I didn't use, but it's not important here ). I want to apply this texture on the high poly model ( 20k+ ) of Selvaria, which is... 672.hmdl ( And 673 with the face ).

Here is some screens to show you what I mean by " wholes " ( By the way, I noticed that was not really wholes, but only transparency which is more or less pronounced depending on the camera angle ( But if I decrease opacity level I get black parts again ) ( That's French interface, but opacity is only important ) :

When opacity is at 100
[http://img39.imageshack.us/img39/7879/s ... t145ad.png](http://img39.imageshack.us/img39/7879/screenshot145ad.png)

When opacity is at 0
[http://img204.imageshack.us/img204/3700 ... hot146.png](http://img204.imageshack.us/img204/3700/screenshot146.png)

When there is no opacity
[http://img204.imageshack.us/img204/2262 ... ot147k.png](http://img204.imageshack.us/img204/2262/screenshot147k.png)
## Post #27
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-05-14T21:31:06+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

did you go into the diffuse and disable the alpha?
## Post #28
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2011-05-14T21:48:56+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

If you mean putting the alpha source to opaque, yes, I did it.
## Post #29
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-05-14T22:24:28+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

the hair is fairly basic i am not sure what you are doing it looks fine to me
all this is is a double died material with 2 separate textures.
i assign the texture to diffuse then a separate instance of it i assign the alpha. that is it.
[hair.jpg](https://xentaxbackup.github.io/file/4242_hair.jpg)
## Post #30
- Username: mariokart64n
- Rank: ultra-veteran
- Number of posts: 586
- Joined date: Sun Jun 05, 2005 7:00 pm
- Post datetime: 2011-05-15T01:08:42+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

hmm.. I'm wondering myself how your having this problem. setting materials in max can be a bit confusing.. but otherwise straight forward and especially since I gave you that file which works fine on my system.

Only thing I can think of, is that the example images you provided are of the viewer port...
the viewer port does not reflect the quality of your scene setup.. so it really isn't any pressing concern.

press (hotkey: F9) and see if the problem is also happening in a production render? if its fine, then horray! there really wasn't a problem at all.

however if you care that much about the viewer port showing 1:1 of the final render quality go get a better computer and use activeshade mode

transparency takes alot of CPU power, so by default transparency is either disabled or placed into simple mode on lower systems.
but if you want to change those settings, go into [Customize > Preferences > ViewPorts > Display Drivers] and make sure your on Directx 9 or 10. and configure them with the highest settings.. map size etc..

Lastly under [View > Viewer Port Configuration] Change transparency to best... {see image below}


I used the same material I sent you and made a render and had no ill effects. I can only assume the problem is a software or hardware issue on your end.
## Post #31
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2011-05-15T09:49:33+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Hmmm okay. I think I will wait for models pre-textured which can be used in animation software, or in Garry's Mod or something like that, where I didn't need to spend hours and hours and hours in options to find what's the problem   

So, thank you very much for your response, clear and complete, but I think it comes from my PC ( This is not because it's not powerful enough, but it have some problems sometime so :p )
## Post #32
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2011-05-15T19:08:44+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Very nice work figuring out the model format, Chrrox! Thanks!

I use Blender, and I didn't want to install 3DS Max, so I ported Chrrox's MaxScript to a [Blender script](http://wiki.blender.org/index.php/Doc:Manual/Extensions/Python/Scripts_guidelines). I've attached it in case anyone else would like to use it. [Blender](http://www.blender.org/) is nice because it's free and cross-platform.

I may be able to help a little more, too.

Several months ago, I worked on extracting info from DATA.CVM. I didn't get very far because of the encrypted header, of course, but I think I figured out how to extract all of the files from it (without names). I did this by taking advantage of the files' headers, which specify how long they are. And one thing I noticed at the time was that many of the files contain smaller chunks with similar headers of their own. That's about as far as I got, and then I stopped working on it.

Yesterday, I found this thread and tried out Chrrox's BMS scripts. His HMDL script produces 3235 HMDL files, whereas the extractor I made a few months ago only produces 92. When I saw this, I figured it must mean that some of the other, non-HMDL files my script extracted must contain HMDLs, so I searched through them to see if I could find them. Sure enough, I found an IZCA file that contains HMDL and HTEX files of Alicia, all neatly packaged together. (HTEX files contain DDS files, which you can extract with Chrrox's "Testures" BMS script.) There are other files inside the IZCA file, too: MLX0, HSHP, CCOL, PJNT, and PACT. I don't know what those are, but PJNT sounds like it might be armatures/joints. Maybe PACT is armature animations/actions? Anyway, this seems like good news, because it could at least help us figure out how to automatically associate textures with meshes.

So, I have a DATA.CVM extractor that produces 3709 files of various types, including HMDL, HTEX, and IZCA, and I have a separate extractor that pulls the HMDL, HTEX, and other files out of IZCA files. They're both written in Python, and they're pretty short. Should I just post them here, or should I port them to BMS? Or should I do both, since that would be useful to people who have MultiEx and people who don't?
[hmdl_import.zip](https://xentaxbackup.github.io/file/4246_hmdl_import.zip)
## Post #33
- Username: chrrox
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2011-05-15T21:08:13+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

I got the bones figured out i am just working on the bone pallet that is the only thing left they did some weird things with he pallet.
the textures can not be auto assigned because we lack names. also the htex files don't contain model files but rather the same texture and its mip map versions.
the file structure is just the common format with an encrypted header i just used jcpsp on valk 3 and it decrypted the CPK file easily and i was able to get files with names from it.
## Post #34
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2011-05-15T22:39:39+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

> Reply from chrrox
>
> I got the bones figured out i am just working on the bone pallet that is the only thing left they did some weird things with he pallet.
Yeah, I saw the Selvaria screenshot with the bones. Very cool!  I hope you figure it out... Out of curiosity, are the bones in the PJNT block/file, or are they in the HMDL itself? (Or somewhere else?)

> Reply from chrrox
>
> the textures can not be auto assigned because we lack names. also the htex files don't contain model files but rather the same texture and its mip map versions.
Well, the HMDL files don't seem to contain filenames anyway (unlike MXEN, MXMF, and MXMR files), so I figured they might just refer to the textures numerically. If an IZCA file contains models and the related textures, then a model might only have to say "use DDS #3 in HTEX file #2" or something...

(And I think you misunderstood me: I said HTEX files contain not models but DDS textures.)

> Reply from chrrox
>
> the file structure is just the common format with an encrypted header i just used jcpsp on valk 3 and it decrypted the CPK file easily and i was able to get files with names from it.
I knew the DATA.CVM format was common, but I tried some standard tools to extract files from it, and they didn't work because of the encrypted header. That was 7 months ago; maybe things have changed. (Or maybe I didn't look hard enough.)

The main thing I think is interesting about the IZCA files is that they conveniently group the necessary files for a particular model. For example, one IZCA file contains Alicia's body and head and the necessary textures for both (and possibly bones, if PJNT files contain bones). I couldn't tell if you already knew about that. I saw what you said before about how "all the models and model textures are grouped together after being extracted", but I didn't know whether you meant that the models and textures were separate (but "grouped" by being sequentially numbered) or actually combined together into a single file. Since the BMS files you released just extracted individual HMDL and DDS files, though, I assumed you meant the former. Also, some people in this thread were apparently manually trying to figure out which textures belonged to which models. I think IZCA files would make that unnecessary, even if it's still not possible to automatically determine which texture is assigned to each mesh chunk.

Just trying to help.  Is anyone interested in my DATA.CVM or IZCA extractors? Or are there existing tools that I don't know about?

Thanks again for doing all that work, Chrrox!
## Post #35
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2011-05-22T02:49:27+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Here's an updated version of my Blender importer. With version 0.1, certain polygons (like a few of the polygons in Alicia's left eye) were oriented incorrectly, causing their textures to look wrong. This version fixes that by changing the order in which vertices are specified for faces. I'm not sure why this was a problem in Blender but not 3DS...

Anyway, here's 0.1.1.
[hmdl_import-0.1.1.zip](https://xentaxbackup.github.io/file/4252_hmdl_import-0.1.1.zip)
## Post #36
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2011-05-27T00:50:27+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

I figured out how to automatically assign textures... Sort of.

HMDL files do contain numeric references to the DDS files they use within a given HTEX file. I still don't know how to determine for sure which HTEX file to pair with each HMDL, but the tendency of HMDL files to appear together with the HTEX files they use within IZCA files makes it relatively easy to manually pair them. There are some exceptions, but this technique should work for the all of the character models, from what I've seen. Probably weapons, too. It won't work for the vehicle files I've seen, because they contain HTSF files (basically just DDS files with an extra wrapper around them) instead of HTEX files. I'm still working on that...

I've attached a set of utilities (both Python and BMS) that will let you extract files (including IZCA files) from DATA.CVM, then extract files (including HMDL and HTEX files) from IZCA files, then import HMDL/HTEX pairs into Blender. The enclosed README file explains things in a little bit more detail.

Here's a model that I imported this way. It's from file1787.IZCA.



Like I said, I'm still working on perfecting this, but I wanted to get the information out there in case others were interested.

EDIT: By the way, not all IZCA flies contain models, but many of them do. Here's a list of the models I've identified so far:

```
file1739.IZCA Welkin Civilian
file1741.IZCA Welkin Dress Uniform
file1742.IZCA Welkin Swimsuit
file1747.IZCA Alicia Gallian Uniform
file1748.IZCA Alicia Low-Res
file1751.IZCA Alicia Bruhl Uniform
file1753.IZCA Alicia Swimsuit
file1754.IZCA Alicia Pyjamas
file1757.IZCA Alicia Gallian Uniform Valkyria
file1761.IZCA Alicia Gallian Uniform Dirty Face
file1762.IZCA Isara Gallian Uniform
file1763.IZCA Isara Civilian
file1764.IZCA Isara Swimsuit
file1768.IZCA Brigitte Gallian Uniform
file1769.IZCA Brigitte Low-Res
file1771.IZCA Brigitte Swimsuit
file1775.IZCA Largo Gallian Uniform
file1776.IZCA Largo Low-Res
file1778.IZCA Ellet Civilian
file1779.IZCA Faldio Gallian Uniform
file1780.IZCA Faldio Dress Uniform
file1781.IZCA Eleanor Gallian Uniform
file1782.IZCA Eleanor Dress Uniform
file1783.IZCA Eleanor Officer Uniform
file1784.IZCA Cordelia
file1785.IZCA Martha
file1786.IZCA Martha's Baby
file1787.IZCA Isara 2
file1788.IZCA Maximilian
file1791.IZCA Maximilian Infused
file1793.IZCA Maximilian Cape
file1796.IZCA Selvaria
file1797.IZCA Selvaria Low-Res
file1800.IZCA Selvaria Cape
file1801.IZCA Selvaria
file1802.IZCA Radi
file1803.IZCA Berthold
file1882.IZCA Nina
file2110.IZCA Gun
file2373.IZCA Tank
file2413.IZCA Vehicle
```


EDIT2: I believe I've figured out how to associate HMDL files with HTSF files for the tank (file2373.IZCA) and other vehicle (file2413.IZCA). The MXTL file in each of these IZCA files appears to contain a set of HTSF numbers (and .hts filenames, though they shouldn't be necessary) for each HMDL file.
[hmdl_import-0.2.zip](https://xentaxbackup.github.io/file/4264_hmdl_import-0.2.zip)
## Post #37
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2011-05-30T21:00:28+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Here's another hmdl_import.py update. Improvements include:Added ability to open IZCA files directly. If an IZCA file contains models, they'll all be opened and textures will be assigned automatically.Made import several times faster by switching to a faster method of creating faces.Added preliminary support for Blender Materials (but alpha still doesn't work).Added support for HMDL files that contain multiple KFMD chunks for models that have multiple levels of detail.

You'll find a file called IZCAmodels.txt enclosed. This file has a list of all the IZCA files that contain models. I identified most of them, too, so you can tell what you're opening.  Enjoy!

I'd like to add bone support, but I haven't worked on that yet because I know chrrox was already working on it. Chrrox, would you mind releasing what you've got so far?

Thanks again to chrrox for making this possible. Also, FEATHER's list of models helped get me started, and mariokart64n's GameFAQs screenshots made identifying the models much easier. Thanks, guys!
[hmdl_import-0.3.zip](https://xentaxbackup.github.io/file/4281_hmdl_import-0.3.zip)
## Post #38
- Username: windfury
- Rank: beginner
- Number of posts: 23
- Joined date: Sun May 23, 2010 2:54 pm
- Post datetime: 2011-06-03T11:50:17+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Whoa, this imports instantly now, awesome.
I've noticed some UVs which seem rotated, although I haven't checked alot of models, these are the ones I've seen so far.
file1753.IZCA Alicia Swimsuit
file1754.IZCA Alicia Pyjamas
file1761.IZCA Alicia Gallian Uniform Dirty Face

The incorrect UVs are on her left eye.
Aside from that, great job so far, looking forward to more progress from you guys. 

EDIT: Whoops, it seems that this was the issue with your version 0.1 which you already fixed in version 0.1.1. I guess it wasn't a UV problem but polygon orientation, my bad.

> Reply from gomtuu
>
> Here's an updated version of my Blender importer. With version 0.1, certain polygons (like a few of the polygons in Alicia's left eye) were oriented incorrectly, causing their textures to look wrong. This version fixes that by changing the order in which vertices are specified for faces. I'm not sure why this was a problem in Blender but not 3DS...

Anyway, here's 0.1.1.
## Post #39
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2011-06-04T04:15:47+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

> Reply from windfury
>
> The incorrect UVs are on her left eye.
Aside from that, great job so far, looking forward to more progress from you guys. 

EDIT: Whoops, it seems that this was the issue with your version 0.1 which you already fixed in version 0.1.1. I guess it wasn't a UV problem but polygon orientation, my bad.Actually, the problem still exists. I didn't realize it until later, but version 0.1.1 fixed some polygons and messed up other ones. I don't know what's causing the problem yet... It's weird that so few polygons are affected, and I don't understand why changing the vertex order affects those polygons, but not others. I'll have to investigate some more. Fortunately, that'll be easier with the speed and automation improvements in 0.3.
## Post #40
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2011-06-18T12:43:16+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

No no no, this topic can't be in the second page   

So, any news on the progress of your work on skeletons, Chrrox ?
## Post #41
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2011-07-16T03:13:37+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Sorry to insist, but there is really nothing new ? Not a single skeleton at all ?
## Post #42
- Username: sakemaster
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Feb 09, 2011 7:09 am
- Post datetime: 2011-07-26T14:01:22+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Great work man ,you are the best of the best   
i a begginer in that category ,so what kind of book or what kid of knowledge is needed.thk
## Post #43
- Username: omfgpota
- Rank: advanced
- Number of posts: 67
- Joined date: Tue Apr 13, 2010 9:52 pm
- Post datetime: 2011-08-20T15:18:37+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

hi thanks for the great work sir chroxx and gomtuu! can you take a look at sir youngmark's post on page 1 ;

> Reply from youngmark
>
> Thanks chrrox.

hmdl format for Valkyria Chronicles PS3 is very similar to Macross Trial Frontier PS3.

If you are interested, could you have a look at this file, please?
http://www.mediafire.com/?43geuz8zec8zwdz

the file format has the same extension, can you please take a look at it? thanks yet again sirs!
## Post #44
- Username: shcfyd
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Sep 14, 2011 11:55 am
- Post datetime: 2011-09-18T16:09:00+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

I`m having some trouble with gomtuu`s hmdl importer in blender I`ve tried to run hmdl_import 0.3 in Blender 2.49b with python 2.6.6. I get a python script error and the importer does not run. 
According to blender`s console

> TypeError:Blender.sys.join() argument 1 must be string, not None

I've also tried it with Blender 2.49, and 2.49a with similar results. Though these versions can't detect my copy of python, it gives the same error as 2.49b the version that does. 

Thanks to everyone who is working on this, Chroxx, gomtuu and anyone else, really appreciate it. 
Btw, did they remove the give thanks function or am i just blind?
## Post #45
- Username: sprayer
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Sep 10, 2010 2:09 pm
- Post datetime: 2011-11-07T20:03:18+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

anyone can reupload bms scripts please?
## Post #46
- Username: alon
- Rank: mega-veteran
- Number of posts: 163
- Joined date: Mon Nov 29, 2010 5:38 pm
- Post datetime: 2011-11-08T19:35:59+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

This link Dead, please reup
## Post #47
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2011-11-09T18:12:59+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

The contents of this post was deleted because of possible forum rules violation.
## Post #48
- Username: sprayer
- Rank: beginner
- Number of posts: 25
- Joined date: Fri Sep 10, 2010 2:09 pm
- Post datetime: 2011-11-10T05:51:33+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

The contents of this post was deleted because of possible forum rules violation.
## Post #49
- Username: Chthonic
- Rank: n00b
- Number of posts: 10
- Joined date: Mon Jan 23, 2012 4:08 am
- Post datetime: 2012-01-23T22:44:18+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

I was wondering since megaupload is having their problems can someone re-upload the scripts please?
## Post #50
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2012-01-29T23:16:34+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

The contents of this post was deleted because of possible forum rules violation.
## Post #51
- Username: Shinobi
- Rank: ultra-n00b
- Number of posts: 5
- Joined date: Wed Mar 07, 2012 9:19 pm
- Post datetime: 2012-03-14T00:16:13+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Hello guys, could anyone from this topic help me extract models from the PS2 game Shinobi? Here are some 
HMDL and HTS samples from the game.

[http://www.datafilehost.com/download-cf640984.html](http://www.datafilehost.com/download-cf640984.html)
## Post #52
- Username: Adalarder
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Aug 05, 2012 6:03 pm
- Post datetime: 2012-08-05T21:34:23+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Has anyone been able to decipher DATA.CVM?
## Post #53
- Username: windfury
- Rank: Moderator
- Number of posts: 2602
- Joined date: Sun May 18, 2008 10:01 pm
- Post datetime: 2012-08-06T00:20:03+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

here is the quickbms script to extract files with names.
[vc.rar](https://xentaxbackup.github.io/file/5643_vc.rar)
## Post #54
- Username: windfury
- Rank: beginner
- Number of posts: 23
- Joined date: Sun May 23, 2010 2:54 pm
- Post datetime: 2012-08-06T04:17:49+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

I thought your new post would be an update on the importer you made awhile back, with bones support that is.
Still, this is nice, thank you chrrox.
## Post #55
- Username: Adalarder
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun Aug 05, 2012 6:03 pm
- Post datetime: 2012-08-06T10:38:16+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Thanks. Unpacked.
Does anyone know what formats, and scripts are responsible for the initial conditions of missions?
## Post #56
- Username: leonkennedy4011
- Rank: n00b
- Number of posts: 17
- Joined date: Tue Sep 21, 2010 8:44 pm
- Post datetime: 2012-09-02T04:03:06+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Sorry to bump and ask, but does anyone have the 3ds max script from the OP?
## Post #57
- Username: windfury
- Rank: beginner
- Number of posts: 23
- Joined date: Sun May 23, 2010 2:54 pm
- Post datetime: 2013-04-15T04:40:13+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

I apologize for bumping this old thread. I'm still hoping that we can have bone support for this.
As much as possible, I'd really like to avoid rigging the models myself, I want them just the way as they are in the game.
There are some models which have parts that needs attaching, I'm assuming they're attached to the bones.
## Post #58
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2013-04-27T03:40:02+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Hi windfury,

Funny you should ask! After not working on my Blender importer for a long time, I recently picked it back up. I got preliminary support for bones working on the same day you posted your last message. 

This isn't finished, but I'll release what I have so far as version 0.4. Changes since version 0.3 include:
Ported to Blender 2.63+
Added preliminary support for bones.
Improved support for materials, including normal maps and transparency.

Notes:

If the model looks weird, try viewing it in game engine mode (press P to enter game engine mode and Esc to exit). Some things look better this way (eyelashes), some look worse (hair).

Blender doesn't seem to deal with the normal vectors very well, so you'll probably have to flip them for half of the objects.

Some textures don't work in Blender 2.66 or 2.66a because of a bug in its DDS texture support. I reported it and they fixed it, so it should work in the nightly version. I haven't tested that, though.

I'm not sure if VC's bones work differently from Blender's or if I'm just misinterpreting the bone data, but I had to use a hack to get the bones to move the right vertex groups. The consequence is that there are no terminal bones in fingers, feet, strands of hair, and so on. So if you want to pose these, you'll need to add a few new bones.

Some pieces of equipment that are mounted to bones aren't oriented correctly.

Have fun!
[hmdl_import-0.4.zip](https://xentaxbackup.github.io/file/6360_hmdl_import-0.4.zip)
## Post #59
- Username: windfury
- Rank: beginner
- Number of posts: 23
- Joined date: Sun May 23, 2010 2:54 pm
- Post datetime: 2013-04-29T19:34:44+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Hey gomtuu,

Lol, that's awesome! I actually messaged you back then, not sure if you received it though.
Still, this is really great news! I had been studying on how to do proper skinning/rigging since this was left inactive for such a long time.
I haven't tried this new version of yours yet, but I'm really looking forward to it! 

EDIT: Wow! I was so looking forward to getting the equips attached correctly.
This looks very promising! You just made my day man! Thank you!
## Post #60
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2013-05-01T23:07:26+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Hello again,

In my hmdl-import-0.4 announcement, I mentioned that I used a hack to get the bones to work properly. I'm going to elaborate on that here. This is partly a warning to anyone who plans on using the bones as imported by 0.4, and partly a request for help in case anyone can easily identify the problem.

This is how bones work without the hack that I mentioned:

(I also posted about this at [blenderartists.org](http://www.blenderartists.org/forum/showthread.php?288835-Imported-video-game-model-file-has-unexpected-bone-to-vertex-group-associations), and it'll help to refer to those screenshots.) The Deform.83 bone's head/root is the shoulder joint, and its tail/tip is in the elbow joint. When I move the Deform.83 bone, the forearm, hand, and finger vertices move with it, but the upper arm vertices don't. The same thing happens all down the length of the arm: Moving the Deform.84 bone moves the hand and fingers but not the forearm, etc. One way of looking at it is that each vertex group seems to be associated with the parent of the bone it should be associated with.

At first, I thought this might mean I should just change the way the bones are created so that Deform.83 is instead called Deform.82, and so on. But there are two problems with this: First, what happens when a bone has more than one child, like when the wrist joint splits into 5 fingers? Which of the finger bones gets the Deform.84 name? What are the other ones called? And second, there doesn't seem to be enough data in the file for this. Imagine what would have to happen with the fingertips. If one of the old fingertip bones was called Deform.89 and ended at the first knuckle, there would have to be a new bone called Deform.89 that extended from that knuckle to the actual tip of the finger. But I can't find data that specifies the position of that new bone's tip.

There is data that specifies the rotation of that knuckle joint, though. If an object or bone were parented to the knuckle joint, then it would inherit that rotation. In fact, this is how the bits of armor are positioned and rotated. (So that's a third problem. The armor, for the most part, is positioned correctly right now. If we go and add an extra bone at the end of those anchor bones, it's going to push the pieces of armor away from the body.)

It's almost as if each "bone" specified in the model file is actually a joint. If I could create a tree of empties and use that instead of an armature, then there would be a shoulder empty called Deform.82, and when you rotated that empty, the arm mesh would move properly. The last joint in a finger (Deform.89 in the above example) would still be positioned at the first knuckle, but rotating that empty would bend the finger mesh at that knuckle.

But blender doesn't let you associate vertex groups with empties as far as I know, so I applied a hack instead: When I'm assigning the vertex groups to the meshes, I simply use the bone ID of the first child of the bone that I'm actually supposed to use. So the upper arm vertices are assigned to Deform.83 instead of Deform.82, and so on. The fingertip bones don't have children, though, so the vertices in the last finger segment have to be put into the same vertex group as the second-to-last finger segment, and the fingertips can't be articulated separately from the rest of the finger.

hmdl-import 0.4 incorporates this hack, which makes the bones mostly work properly, except for the fact that all the vertex groups at the tips of the hair, feet, and fingers are essentially lost because they've been merged with the next vertex group up the chain.

I don't know if this makes any sense or not, but I hope so. Anyway, if it's not clear, don't worry too much about it. I was just kind of hoping there might be an easy fix that someone with more rigging experience would instantly recognize. There might not be any such fix, or I might just be reading the bone data incorrectly.

Thanks,
-- 
gomtuu
## Post #61
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2013-05-12T03:33:03+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

I think I might have solved the problem I described in my last post. You can now articulate fingertips, etc. The bones are a little bit weird, though. It might be a tradeoff rather than a complete fix. I'll let you decide. In addition to the vertex group fix, I improved support for pieces of equipment that are positioned relative to bones. Many models should look better now.

I also completely refactored the importer to make it easier to maintain, changed the name from hmdl_import to import_valkyria, and added support for the shape keys that are stored in the model files for facial expressions. Here's a combination of two (edit: actually three) shape keys that make Alicia look surprised:



To install the new version, first get rid of hmdl_import if you were using it, then make Blender install this ZIP file. See the README file inside the ZIP for more info.

By the way, Blender 2.67 is out now, and it includes a fix for the texture bug that was present in 2.66 and 2.66a.

Have fun!
[import_valkyria-0.5.zip](https://xentaxbackup.github.io/file/6397_import_valkyria-0.5.zip)
## Post #62
- Username: windfury
- Rank: beginner
- Number of posts: 23
- Joined date: Sun May 23, 2010 2:54 pm
- Post datetime: 2013-05-12T07:02:04+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Wow, I didn't know how I'd be doing proper facial expressions back then.
This is such a nice addition. Can't wait to try this out! 

EDIT: I just tried it out. Pretty huge progress I must say. Loving the shape keys!
Even the models that didn't import completely when you added bones support, now does.
## Post #63
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2013-05-21T18:35:17+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Ohoh ! Just passed by on a free time, wasn't thinking you were always on this !

I will try this out ! Thank you very much Gomtuu !

EDIT : Does this importer work on 3DS Max ?
## Post #64
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2013-05-21T22:01:16+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Hi gta1211,

No, import_valkyria will only work in [Blender](http://www.blender.org/download/get-blender/). Blender is free and cross-platform, though, and it can export models as .3DS files. But I can't say how well that works, because I don't have 3DS Max.
## Post #65
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2013-05-21T22:17:04+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Okay thanks, I don't know anything about Blender but I will try to figure it out and get it on Max
## Post #66
- Username: windfury
- Rank: beginner
- Number of posts: 23
- Joined date: Sun May 23, 2010 2:54 pm
- Post datetime: 2013-05-22T05:45:51+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

You can always just export them in FBX format.
That's what I do whenever I need to transfer between 3D packages.

Since I'm also not that good with Blender, I did this for the VC models too.
The shape keys are also supported and will be exported as morphers in 3ds Max.
## Post #67
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2013-05-25T23:23:20+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Hello,

Here's import_valkyria 0.6. The main changes in this version are:
Added support for most MXE files.
Added support for most ABR files.
Added support for double textures, but partially lost support for automatic normal maps.

MXE files are lists of other files with some parameters. Most of them, such as EVMAP*, EV_OBJ*, TESTMAP*, and VMAP*, describe a scene by listing model files and specifying where to put them. VMAP* files are the maps used in battles, with VMAP_GROUND* being the basic terrain and buildings, and VMAP_SET* being things like sandbags and other props. VMAP_SET* files also appear to specify unit placement points, but import_valkyria doesn't support those yet. Here's a combination of VMAP_GROUND_003_00.MXE and VMAP_SET_003_00.MXE:



Note: VMAP_GROUND* files are pretty complex. They take a long time to open.

ABR files mostly seem to be meshes used for animations and effects. No support for the animations yet.

After adding support for these additional file types, I noticed I'd been making some incorrect assumptions about the basic model files. In particular, some meshes have two textures. I assumed that the second one was always a normal map, but that's not the case. Double textures are used extensively in the MXE models, and they're also used for the characters' eye glints.



Unfortunately, I haven't figured out a 100% reliable way of detecting the normal maps yet, so you'll see weird-looking blue textures on some models. You have to make those textures normal maps for them to look right.

Also, some of the tree placeholders are rotated incorrectly, and some objects aren't positioned correctly on some maps. That might be because I still don't have armatures working the way they should.

Anyway, enjoy!
[import_valkyria-0.6.zip](https://xentaxbackup.github.io/file/6431_import_valkyria-0.6.zip)
## Post #68
- Username: gta1211
- Rank: beginner
- Number of posts: 24
- Joined date: Thu Apr 14, 2011 2:30 am
- Post datetime: 2013-05-26T01:47:49+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Wonderful !

Amazing work, thanks again !
## Post #69
- Username: windfury
- Rank: beginner
- Number of posts: 23
- Joined date: Sun May 23, 2010 2:54 pm
- Post datetime: 2013-05-27T09:26:21+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

That's really nice! I had to add those eye glints manually by taking them from the alpha map.
Looks like I'll be redoing my renders. Thank you!
## Post #70
- Username: Xr79
- Rank: veteran
- Number of posts: 91
- Joined date: Sun Oct 06, 2013 6:45 am
- Post datetime: 2013-10-05T23:42:29+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Hey every one, sorry to post such an old reply to this thread, but I am try to use the quick BMS script but all it's extracting is empty files...I have no Idea what I am doing wrong.
## Post #71
- Username: albert1905
- Rank: veteran
- Number of posts: 93
- Joined date: Wed May 09, 2012 8:13 pm
- Post datetime: 2014-07-12T03:59:45+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

> Reply from chrrox
>
> here is the quickbms script to extract files with names.

It doesn't support Japanese version.
[K-113.png](https://xentaxbackup.github.io/file/7573_K-113.png)
## Post #72
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2014-11-12T00:00:59+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Good news, everyone! The data files for the recently-released [PC version of Valkyria Chronicles](http://store.steampowered.com/app/294860/) are all unencrypted and extracted. All you have to do now is buy the game on Steam, and you can open the models in [Blender](http://www.blender.org/) with [import_valkyria](http://forum.xentax.com/viewtopic.php?p=85743#p85743).

The PC version's "data" folder contains the same files as the PS3 version's DATA.CVM file, with a few minor exceptions:
The PC version's files are organized into subfolders.The 26 files in the PC version's texture_replace folder don't exist in DATA.CVM.10 of the files in the resource\mtpa folder differ from their PS3 counterparts. I haven't investigated the differences yet, but here's the list of files that differ:mtpa_adv_00.mtpmtpa_adv_11.mtpmtpa_adv_13.mtpmtpa_adv_18.mtpmtpa_book.mtpmtpa_slg.mtpmtpa_sys.mtpmtpa_sys_battle.mtpmtpa_sys_town.mtpmtpa_sys_town2.mtp

I opened resource\mx\valcA01aB_h.mlx from the PC version as a test, and it worked! (I used Blender 2.69.0.) Some of the more complex models might not open, though, because they might depend on files that are in a different folder now.

By the way, is it possible to get the name of this topic changed to "Valkyria Chronicles (PS3, PC)"?
## Post #73
- Username: DecidingToast
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Nov 12, 2014 12:14 pm
- Post datetime: 2014-11-12T04:27:44+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

> Reply from gomtuu
>
> Good news, everyone! The data files for the recently-released PC version of Valkyria Chronicles are all unencrypted and extracted. All you have to do now is buy the game on Steam, and you can open the models in Blender with import_valkyria.

The PC version's "data" folder contains the same files as the PS3 version's DATA.CVM file, with a few minor exceptions:
The PC version's files are organized into subfolders.The 26 files in the PC version's texture_replace folder don't exist in DATA.CVM.10 of the files in the resource\mtpa folder differ from their PS3 counterparts. I haven't investigated the differences yet, but here's the list of files that differ:mtpa_adv_00.mtpmtpa_adv_11.mtpmtpa_adv_13.mtpmtpa_adv_18.mtpmtpa_book.mtpmtpa_slg.mtpmtpa_sys.mtpmtpa_sys_battle.mtpmtpa_sys_town.mtpmtpa_sys_town2.mtp

I opened resource\mx\valcA01aB_h.mlx from the PC version as a test, and it worked! (I used Blender 2.69.0.) Some of the more complex models might not open, though, because they might depend on files that are in a different folder now.

By the way, is it possible to get the name of this topic changed to "Valkyria Chronicles (PS3, PC)"?

I've tried using the script to import with blender 2.72, and received some kind of "file not found" error. Is there a specific version of blender that this works best for?

EDIT: Sorry, didn't test it enough. Works for certain files.
## Post #74
- Username: windfury
- Rank: beginner
- Number of posts: 23
- Joined date: Sun May 23, 2010 2:54 pm
- Post datetime: 2014-11-12T06:38:52+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Good news indeed. Glad to know that you've been looking through the files as well.
Yes! Buy it on Steam people! Who knows, we might even get the sequels ported, too.

Crossing my fingers for some importer progress soon (No rush, enjoy the game first).
## Post #75
- Username: DecidingToast
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Wed Nov 12, 2014 12:14 pm
- Post datetime: 2014-11-14T17:07:32+00:00
- Post Title: Re: Valkyria Chronicles (PS3)

Yeah, here's hoping for a translation/port of the third game. (also, is a remaster asking too much?)
## Post #76
- Username: Sectus
- Rank: veteran
- Number of posts: 98
- Joined date: Wed Sep 16, 2009 12:47 am
- Post datetime: 2014-11-16T02:01:21+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

I made a modding tool for extracting and replacing textures in Valkyria Chronicles (made for PC version, but is probably compatible with PS3 files too).

Download: [http://www.tzarsectus.com/tools/VCtool.rar](http://www.tzarsectus.com/tools/VCtool.rar)
Download source: [http://www.tzarsectus.com/tools/source/VCtool.rar](http://www.tzarsectus.com/tools/source/VCtool.rar)

Usage:
- Drag'n'drop files onto the extract.bat and replace.bat batch files in Windows explorer.
OR
- Use it in command prompt (ie, "vctool -x valcA02aD_h.mlx" to extract, "vctool -r valcA02aD_h.mlx" to replace)
## Post #77
- Username: windfury
- Rank: beginner
- Number of posts: 23
- Joined date: Sun May 23, 2010 2:54 pm
- Post datetime: 2014-11-16T04:00:26+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Awesome! You finally posted it here.
I actually got it from your original post and made some fun combinations (Alicia - Valkyria form in town clothes). 
Thanks!
## Post #78
- Username: TheSlider
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Nov 19, 2014 8:08 pm
- Post datetime: 2014-11-19T22:00:37+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

It seems like it would be possible to make hi-res textures and mods for this game quite easily as it accepts about any dds you throw at it.
Tried replacing the textures of the _m version of some objets/characters with _h (1024 instead of 512). Works nicely.

Could it be possible to have the entire package extracted/repacked instead of only the textures ? I'm interested in making model swaps and possibly other edits if they're not binary/compressed files like changing/removing the colision meshes in some maps to alow a bit more exploration... : )

I'm trying to understand the file naming used in the "ressource/mx/" folder. I've been looking into the files prefixed with "val".
For those interested, tanks start with the prefix "val_vc" with a unique number that identifies the vehicle and a code for color variation while all pc and npc files seem to start with "valc" then have some sort of global ID. Welkin is "A01", Alicia is "A02" and so on. Each character ID comes in a few costumes "aA", "bB", "dB" and so on. I'm not sure if the lowercase leter and uppercase have a diferent meaning though. The files that have "_h" are the ones used for cutescenes (briefing, popups and special animations where you get a close-up) and "_m" is the file used during actual gameplay. The "_m" version also contains a low res texture for the LOD (usualy it's 128*128) that uses another uv map. If you're looking to make character texture edits or grab their 3D models, these are the ones you need to open. The others seem to be animation.
Weapons start with "valw" (w for weapon i presume ?) following by their category like "FT" for flame thrower, "GR" for grenades and so on. Weapons mlx files can be swaped around safely as long as it's the same category (replacing the level 1 grenade model with the lvl 5 for example) but it would be better to later make our own 3D models if importing becomes possible.
I haven't tried swaping characters (making an army of Welkin for example) but it might be possible, at least, if you use characters from the same category (scouts, snipers ...). It depends where the animations are stored but then again, be carefull with the "_h" and "_m" diferences and don't use character variations that aren't supposed to be on the battlefield. It might crash the game.
## Post #79
- Username: adol365
- Rank: advanced
- Number of posts: 70
- Joined date: Fri Nov 21, 2014 7:21 pm
- Post datetime: 2014-11-24T03:40:09+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Are there anyone who can demux *.SFD video files corrently? I tried some PS2 SFD programs but all of them can not convert or demux Valkyria chronicles *.SFD files correctly.
## Post #80
- Username: Darko
- Rank: double-veteran
- Number of posts: 723
- Joined date: Tue Jul 14, 2009 1:16 am
- Post datetime: 2014-11-24T06:27:24+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

> Reply from adol365
>
> Are there anyone who can demux *.SFD video files corrently? I tried some PS2 SFD programs but all of them can not convert or demux Valkyria chronicles *.SFD files correctly.

Read this:

[viewtopic.php?f=36&t=11092](http://forum.xentax.com/viewtopic.php?f=36&t=11092)

I've done it:

[https://www.youtube.com/watch?v=JxLu-UUaKvI](https://www.youtube.com/watch?v=JxLu-UUaKvI)

That's a sfd video I reencoded from DOA4.
## Post #81
- Username: sanyabane
- Rank: n00b
- Number of posts: 14
- Joined date: Fri Oct 31, 2014 3:37 am
- Post datetime: 2015-05-08T13:49:05+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Is there any way to export model among with animations? Or just animations and them import them to model?
## Post #82
- Username: Xr79
- Rank: veteran
- Number of posts: 91
- Joined date: Sun Oct 06, 2013 6:45 am
- Post datetime: 2015-07-16T03:18:38+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Okay, so I can confirm that import script does work for the models of the PC version of the game, how ever the MXE files for the maps will not open, a shame cause the map data is beautiful. Wait, okay I need to edit this, the script works perfectly, you need to move the MXE and MLX files into the MX folder in data for it to work.
## Post #83
- Username: RoyalBlue
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Mon Jan 04, 2016 12:17 am
- Post datetime: 2016-01-03T17:05:39+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Hey so I had all the models from pretty much the entire game ripped and pulled out. Then my ex fried my HD while I was waiting. Now I have an industrial 3d Printer with no models ready for it =(. Can somebody teach someone who's had all their devices fried and been out of the game awhile step by step how to get blender to pull out the models from the PC version please? Would be much appreciated.
## Post #84
- Username: Portugalotaku
- Rank: mega-veteran
- Number of posts: 164
- Joined date: Fri Oct 02, 2015 10:35 pm
- Post datetime: 2016-05-26T14:05:58+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Hey sorry for the bump, but does anyone know how to export weights? Although the models come with skeletons, the rig is absent.
## Post #85
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-07-30T01:23:11+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Does anyone know where the truck models are stored? I've searched Resource/mx and I cannot find it... I just want to find that three-wheeled truck and that bakery truck but I just cannot find them (I found the baker version of Alicia tho :L ) but anyway if anyone can help I would be much obliged.
## Post #86
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-08-06T18:54:56+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Gonna bump this since I still need to know where those trucks are...


The trucks I'm looking for are in the screenshot provided (I cannot seem to load Vmap_Sets so I cannot seem to get them that way)



Capture.PNG (149.95 KiB) Viewed 188 times
## Post #87
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2018-08-20T03:12:10+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Hi Zaczac121,

Unfortunately, I couldn't find the Alicia's Bakery logo in the game's texture files. It's possible I missed it somehow, but another bad sign is that the epilogue sequence in which her bakery appears is a pre-rendered video (EV1901.PAM). So the model wouldn't have to be included with the game.

The prologue sequence with the three-wheeled truck, where Alicia first meets Welkin, is also pre-rendered (EV0002.PAM). I don't remember ever seeing the truck model itself, but it's been a while since I spent much time on the Blender importer.

Do you know of an instance where the three-wheeled truck appears as a 3D object in the game? I can't tell what the context of your screenshot is.
## Post #88
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-08-23T06:14:26+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Thank you for replying, the truck appears as a 3d model during the chapter of retaking Bruhl in the mid game thats where the screenshot is from
## Post #89
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2018-08-23T22:45:05+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Found the truck model! If you open VMAP_SET_015_00.MXE and zoom way out, you should see it.



If you can't open the VMAP_SET files, that's just because I still haven't made import_valkyria aware of the Steam file layout. It expects all the files to be in a single folder together instead of organized into subfolders. But you can just copy the following files into a folder, then open the MXE file.

VMAP_SET_015_00.MMF (from data/mx)
VMAP_SET_015_00.MMR (from data/resource/mx)
VMAP_SET_015_00.MXE (from data/resource/mx)
VMAP_SET_015_00_MERGE.HTR (from data/resource/mx)
VMAP_SET_015_00_MERGE.HTX (from data/resource/mx)

You might also need to rename the files so they're upper-case.
## Post #90
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-08-24T10:19:49+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Thank you so much! This has helped big time, also I hope the plugin will support the PC paths soon since that would be amazing
## Post #91
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-08-24T12:35:01+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Well now I am trying to import the full map of the Marmota chase map but I have done all the steps and have placed all the right files together but it keeps getting another error saying:



grrrrr.PNG (6.65 KiB) Viewed 257 times



EDIT: Nevermind I worked out what files were missing!
## Post #92
- Username: SomaCruz10
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Tue Jul 31, 2018 12:21 am
- Post datetime: 2018-09-02T17:41:47+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

So Blender importer for valkyria is not export texture? I've tried to export object to .fbx and improt to 3ds max, but it was transperent and no texture. I see there is a different tool to export texture, but they have different names, so it looks like I need to reassign them manually. 

Can't blender export models with texture?
## Post #93
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2018-09-02T22:45:17+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

> Reply from SomaCruz10
>
> Can't blender export models with texture?

Which model(s) are you trying to work with? Do they have textures in Blender, before you try to export them for Max?

I don't have 3DS Max, so I haven't tested exporting to it.
## Post #94
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2018-09-06T14:01:33+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Is anyone planning to buy the Steam version of Valkyria Chronicles 4 at launch? I preordered the Switch version instead.

I'll probably get the PC version eventually, but I was hoping someone could try opening its models with import_valkyria before then, just to see if they're supported.

Thanks!
## Post #95
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-09-12T10:27:57+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

> Reply from gomtuu
>
> Is anyone planning to buy the Steam version of Valkyria Chronicles 4 at launch? I preordered the Switch version instead.

I'll probably get the PC version eventually, but I was hoping someone could try opening its models with import_valkyria before then, just to see if they're supported.

Thanks!
I have pre-ordered the Steam version of VC4, and I was planning on doing exactly what you asked to see if it works, hopefully they still use the same code
## Post #96
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-09-12T12:58:13+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

The reason I wanted to in the first place was to get the Hafen
## Post #97
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2018-09-12T17:21:27+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Great! Let me know how it goes!
## Post #98
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2018-09-16T20:08:23+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Here's version 0.7 of import_valkyria.

This adds support for the way the files are organized into folders in the Steam version of Valkyria Chronicles. Models that require other files, like vmap_set_*.mmf, should now open without any extra steps. I'm sorry I waited almost four years to fix this!

I also created an [import_valkyria](https://github.com/gomtuu/import_valkyria) project on github.

Enjoy!
[import_valkyria-0.7.zip](https://xentaxbackup.github.io/file/14868_import_valkyria-0.7.zip)
## Post #99
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-09-17T20:29:44+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

> Reply from gomtuu
>
> Here's version 0.7 of import_valkyria.

This adds support for the way the files are organized into folders in the Steam version of Valkyria Chronicles. Models that require other files, like vmap_set_*.mmf, should now open without any extra steps. I'm sorry I waited almost four years to fix this!

I also created an import_valkyria project on github.

Enjoy!
I'm glad you are picking this back up, especially with the new release of VC4
## Post #100
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-09-21T20:37:48+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Pre-loads are available on steam, this should let me access the files
## Post #101
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-09-25T18:22:06+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Now the game is released! The moment of truth!

Everything was stored in a large asf CPK file which I had to extract out, they seem to use a new "HMO" file and there are still HMDs but I cannot access them, I do spy MXEs though...

Nothing seems to work though...
## Post #102
- Username: Very Cool Dude
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 16, 2018 7:35 am
- Post datetime: 2018-09-25T22:27:26+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

.
## Post #103
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-09-25T23:19:07+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

> Reply from Very Cool Dude
>
> Zaczac121 wrote:Now the game is released! The moment of truth!

Everything was stored in a large asf CPK file which I had to extract out, they seem to use a new "HMO" file and there are still HMDs but I cannot access them, I do spy MXEs though...

Nothing seems to work though...

How did you manage to open the BASE.cpk? I'm trying to use quickBMS on it, but it usually crashes before it finishes exporting everything.

I couldn't but it did export a few files (18,200 files at that) that showed me their file type but none of them I could open, majority were not for the importer and only a handful came up on it, but they were all unopenable for the importer (HMDs, MXEs, the like) the extractor I used didn't get the model files such as mlx sorry about the sad news but until I can find a proper exporter (or viewer that lets me see all files and lets me choose which ones I want to export) I cannot do anymore
## Post #104
- Username: Very Cool Dude
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 16, 2018 7:35 am
- Post datetime: 2018-09-26T00:09:56+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

.
## Post #105
- Username: Very Cool Dude
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 16, 2018 7:35 am
- Post datetime: 2018-09-26T09:15:28+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

.
## Post #106
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-09-26T11:46:16+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Without the ability to get every file out our ability to access the files with the importer are extremely low (Also if anyone can extract any vehicle model I think they could still be labeled VCxxx.mlx [xxx is the code they use to identify the vehicle])

We need a proper CPK viewer or a program like 7zip that can open these files like a zip file
## Post #107
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-09-26T11:49:47+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Maybe we should make a Discord so we can all have an easier time conversing, I'll make one


[https://discord.gg/syHyt2R](https://discord.gg/syHyt2R)
Anyone is welcome to it, but I would like us all to use it to discuss Valkyria_Import and what else to do

Gomtuu and Very Cool Dude I recommend you join me in the discord so we can chat easier about this stuff

Unless Discord is some sort of taboo...?
## Post #108
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-09-26T20:59:19+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

I found a program that views into CPK files! 

[https://mega.nz/#!KhMElQyZ!GXPiNSz507Yn ... tOpmDs_ue8](https://mega.nz/#!KhMElQyZ!GXPiNSz507YnMKAu-gw-qCSyafbzZxX3ItOpmDs_ue8)
## Post #109
- Username: Very Cool Dude
- Rank: n00b
- Number of posts: 11
- Joined date: Thu Aug 16, 2018 7:35 am
- Post datetime: 2018-09-29T07:35:22+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

.
## Post #110
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-09-29T14:45:44+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

If you want to find out the progress of the Importer for VC4 come to this fancy new discord that Gomtuu, the lord has joined

[https://discord.gg/syHyt2R](https://discord.gg/syHyt2R)
## Post #111
- Username: Eiwo
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Wed Dec 21, 2011 10:06 am
- Post datetime: 2018-10-01T00:30:43+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

The invite link expired. And how sad that discord is even taking people away from good old Xentax!
## Post #112
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-10-02T18:03:40+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

> Reply from Eiwo
>
> The invite link expired. And how sad that discord is even taking people away from good old Xentax!
New link xd [https://discord.gg/7jKEZTy](https://discord.gg/7jKEZTy) plus its easier to talk on Discord
## Post #113
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2018-10-07T17:59:55+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Just took my first look at some files from Valkyria Chronicles 4.

Judging from the textures, vl_vc001.mlx is the Hafen and vl_vc002.mlx is the Cactus. I think the "vc" part of the filename is short for vehicle. This is similar to the naming convention used in the first game, where the val_vc*.mlx files are vehicles.

The textures are still DDS files like in the first game, but Blender seems unable to open some of them. The ones it can't open have the string "DX10" in their headers.

It'll take some more work to figure out the differences in the model data.
## Post #114
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-10-07T20:20:45+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

DX10 could have something to do with DirectX
## Post #115
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-10-15T14:43:18+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

The wait for Gomtuu is unbearable...
## Post #116
- Username: Papershaper
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sat Jul 04, 2015 4:19 am
- Post datetime: 2018-12-05T08:39:03+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Hello,

I am a papercraft artist interested in making VC4 stuff, here's a sample of the level of detail I can do [https://youtu.be/1DJMFot1xLc](https://youtu.be/1DJMFot1xLc). I would love to join the Discord channel to follow the progress on the importer, do some testing and maybe help a bit, I've been working professionally with Blender for two years, I'm a decent programmer and the world needs those swimwear models. Pweez let me in guys.
## Post #117
- Username: Zaczac121
- Rank: beginner
- Number of posts: 27
- Joined date: Thu Oct 05, 2017 3:19 am
- Post datetime: 2018-12-19T18:54:53+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

> Reply from Papershaper
>
> Hello,

I am a papercraft artist interested in making VC4 stuff, here's a sample of the level of detail I can do https://youtu.be/1DJMFot1xLc. I would love to join the Discord channel to follow the progress on the importer, do some testing and maybe help a bit, I've been working professionally with Blender for two years, I'm a decent programmer and the world needs those swimwear models. Pweez let me in guys.
[https://discord.gg/7jKEZTy](https://discord.gg/7jKEZTy)

Tell me who you are when you join so I can role you
## Post #118
- Username: gomtuu
- Rank: beginner
- Number of posts: 20
- Joined date: Mon May 16, 2011 2:21 am
- Post datetime: 2019-04-20T19:04:54+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

[Version 0.8 of import_valkyria](https://github.com/gomtuu/import_valkyria/releases/tag/v0.8) is out! This version adds support for many (not all) model files from Valkyria Chronicles 4.




crymaria.jpg (74.95 KiB) Viewed 278 times



It also improves support for objects positioned by bones, so lots of models from the first game will import more accurately now, too. That's thanks to a [contribution from angavrilov](https://github.com/gomtuu/import_valkyria/pull/2).

Please see the [README](https://github.com/gomtuu/import_valkyria/blob/v0.8/README.md) and especially the [Valkyria Chronices 4 Textures](https://github.com/gomtuu/import_valkyria/wiki/Valkyria-Chronicles-4-Textures) wiki page for important information. I also created a [List of Valkyria Chronicles 4 Models](https://github.com/gomtuu/import_valkyria/wiki/List-of-Valkyria-Chronicles-4-Models) that you may find helpful.

There are still lots of issues, but after such a long delay, I was starting to feel like it would be better to release a mostly-working version than to make everyone wait while I ironed everything out.

Enjoy!

Can a moderator please update the topic to "Valkyria Chronicles 1 & 4 (Multiple Platforms)" or just "Valkyria Chronicles 1 & 4"? Thanks!
## Post #119
- Username: hexaae
- Rank: advanced
- Number of posts: 44
- Joined date: Fri May 20, 2016 6:23 am
- Post datetime: 2020-01-19T12:47:01+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Was there a translation tool able to extract and reinsert strings from files like this from VC PC version?
[https://gofile.io/?c=SUh0R9](https://gofile.io/?c=SUh0R9)
A friend of mine wanted to add Italian unofficial translation.
## Post #120
- Username: silenthill2019
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Aug 13, 2016 5:37 pm
- Post datetime: 2020-03-24T13:37:45+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Does anyone have the tools to translate the ps3 version MTPAs? I'm using one for PC, but something must build wrong since it rotates characters.
[https://ibb.co/MPWbSTh](https://ibb.co/MPWbSTh)
## Post #121
- Username: Sprueman
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu May 28, 2020 1:51 am
- Post datetime: 2020-05-27T17:56:55+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Hey there. Thanks for all your hard work on making this Importer, gomtuu! I'm looking forward to putting it to use!

I've noticed that Version 8 of the Importer tool doesn't work on Blender 2.82. Is there a way to avoid this issue? Or is the Importer being updated for this?
## Post #122
- Username: silenthill2019
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Aug 13, 2016 5:37 pm
- Post datetime: 2020-08-23T11:00:43+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

HI!
Do you know how to multiplexer .PAM (PlayStation Advanced Movie) video files?
## Post #123
- Username: AlexNG
- Rank: n00b
- Number of posts: 15
- Joined date: Tue Mar 08, 2016 3:45 pm
- Post datetime: 2021-01-28T14:29:35+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

Since it seems gomtuu hasn't been active for a few months, I guess I'll mention here that I have a [branch](https://github.com/angavrilov/import_valkyria/tree/blender-2.8) of the importer that has been updated to work in Blender 2.83, with a number of additional fixes to material handling and map object placement.
## Post #124
- Username: hatehatehate
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Thu Jan 14, 2021 7:15 am
- Post datetime: 2021-02-08T01:37:08+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

> Reply from AlexNG Thu Jan 28, 2021 10:29 pm at Thu Jan 28, 2021 10:29 pm
>
> 
Since it seems gomtuu hasn't been active for a few months, I guess I'll mention here that I have a branch of the importer that has been updated to work in Blender 2.83, with a number of additional fixes to material handling and map object placement.

Just so you're aware, Blender throws up an error when trying to activate an add-on module with a period in it. Removing the 2.8 from the folder name and rezipping allowed me to enable it, but I get a lot of random crashes trying to use it (typically when trying to import, but sometimes even when just deleting objects, or clicking import). I don't know how to diagnose the issue at all beyond that, unfortunately.
## Post #125
- Username: nikoofdeath
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Sun Sep 02, 2018 1:16 pm
- Post datetime: 2021-03-06T06:14:36+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

For VC1, there seems to be some sort of limit to the size of files - I had thought it was a limit on the resolution of textures, but it seems it is the combined size of all textures in a file, as including different combinations of higher res textures seems to work, but all of them at once does not (when its too high, the game just gets stuck in an infinite loading cycle whenever the file is used). I'm trying to create a texture pack with AI upscaled textures, but this dramatically increases the difficulty in doing this given the trial and error required to see whether a file will cause the game to crash. As an example, here's the loose files for valcA01bB_m.mlx (welkins charcter model - also applies to valcA01bB_h.mlx, just with 04 deleted and 05 renamed to 04). 
[https://files.catbox.moe/fq1x0q.7z](https://files.catbox.moe/fq1x0q.7z)
I was able to load the game using the upscaled 05.dds and 02.dds together, and using the upscaled 03.dds, but not when using the all three at once (among other combinations that did and did not work). Does anyone have any idea what the exact problem is here, and if there is any solution?
It's especially disappointing since these are actually downscaled from my upscales (4x upscale downscaled by 2x)
## Post #126
- Username: Ambrellich
- Rank: ultra-n00b
- Number of posts: 2
- Joined date: Sun May 29, 2011 7:33 pm
- Post datetime: 2021-12-27T00:57:29+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

> Reply from AlexNG Thu Jan 28, 2021 10:29 pm at Thu Jan 28, 2021 10:29 pm
>
> 
Since it seems gomtuu hasn't been active for a few months, I guess I'll mention here that I have a branch of the importer that has been updated to work in Blender 2.83, with a number of additional fixes to material handling and map object placement.

Hi Alex!
Thank you for the awesome update.

I noticed that 0.8 version (for Blender 2.79b) can export models in FBX format with skinning attached, but your update is not (trying to migrate models to MAYA for further animation ). Please, don't get me wrong - update is AWESOME the most models are loaded just fine (including maps), but maybe there is some advice or a possible fix?

Best regards!
## Post #127
- Username: AlpineEscape
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Wed Feb 01, 2023 9:30 am
- Post datetime: 2023-02-01T02:00:34+00:00
- Post Title: Re: Valkyria Chronicles (PS3, PC)

> Reply from AlexNG Thu Jan 28, 2021 10:29 pm at Thu Jan 28, 2021 10:29 pm
>
> 
Since it seems gomtuu hasn't been active for a few months, I guess I'll mention here that I have a branch of the importer that has been updated to work in Blender 2.83, with a number of additional fixes to material handling and map object placement.

Hello, just joined the board, happy to see VC getting some love.

Is there any chance of gaining VC2/VC3 support in the future? I loaded the importer to 2.74 and 2.83 builds of Blender (since 3.3.1 didn't work for me) but it throws out a bunch of errors when importing anything.

I'm trying to see if I can find models of the VC2's Japanese-exclusive characters. Actually attempting to work them back into the game if they're there would be *way* beyond my abilities, but my only reference that they're "in the game, fully localised, just hidden behind password locks" is from old GameFAQs posts, which I'm not sure I believe.
