## Post #1
- Username: TomWin
- Rank: veteran
- Number of posts: 146
- Joined date: Mon Apr 12, 2010 2:46 am
- Post datetime: 2011-11-13T10:56:44+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

Here are 2 files from NFS TR which are probably archives.

ShippingVehicles.sb & ShippingVehicles.toc which probably contain vehicle models and textures is way too big for upload -> 1GB:(
so I upload smaller files 


```
http://www.file-upload.net/download-3876736/THRUN_Win32.7z.html
```
## Post #2
- Username: AlphaTwentyThree
- Rank: double-veteran
- Number of posts: 982
- Joined date: Tue Aug 25, 2009 5:55 am
- Post datetime: 2011-11-15T04:30:10+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

Second this, a little script would be nice. Could the start of the toc file be a crypt key?
## Post #3
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-11-15T11:20:23+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

You can already decrypt the .toc files with a tool posted in the battlefield 3 thread.
## Post #4
- Username: AlphaTwentyThree
- Rank: double-veteran
- Number of posts: 982
- Joined date: Tue Aug 25, 2009 5:55 am
- Post datetime: 2011-11-15T20:08:54+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

Whoops, didn't notice that. Will write a script soon and post it here.
## Post #5
- Username: sarzamin
- Rank: beginner
- Number of posts: 38
- Joined date: Fri Nov 19, 2010 10:19 pm
- Post datetime: 2011-11-16T10:26:41+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

> Reply from AlphaTwentyThree
>
> Whoops, didn't notice that. Will write a script soon and post it here.

many thanks 
tools for unpacker/repacker?
## Post #6
- Username: hunpatrik
- Rank: veteran
- Number of posts: 101
- Joined date: Tue Jan 05, 2010 4:21 am
- Post datetime: 2011-11-19T14:31:30+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

Any news?
## Post #7
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2011-11-19T17:48:39+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

> Reply from hunpatrik
>
> Any news?
I'm writing bms script for toc+sb unpacking, but unpacked content is in unknown formats and needs further research. I will upload some unpacked samples soon, so other members can join this research.
script is still WIP, sample output for now looks like this (parsing AudioSuperBundle.toc file):

```
   tag = 921C8637F079B2A671C062FC830B01AA
  Start of LIST 'bundles' with size = 23569
  Start of ENTRY '' with size = 126
   id = Win32/_c4/sound/memory/bundles/permaload_composite_vehicle_traffic_bundle_blueprintbundle
   offset = 0
   size = 1563696
  End of current LIST or ENTRY
  Start of ENTRY '' with size = 121
   id = Win32/_c4/sound/memory/bundles/permaload_composite_smackables_bundle_blueprintbundle
   offset = 1563696
   size = 3867808
  End of current LIST or ENTRY
... ... ...
  Start of ENTRY '' with size = 123
   id = Win32/_c4/sound/memory/bundles/traffic_composite_trf_trk_tan_10_bundle_blueprintbundle
   offset = 292983776
   size = 159136
  End of current LIST or ENTRY
  Start of ENTRY '' with size = 123
   id = Win32/_c4/sound/memory/bundles/traffic_composite_trf_trk_tan_95_bundle_blueprintbundle
   offset = 293142912
   size = 159136
  End of current LIST or ENTRY
  End of current LIST or ENTRY
  Start of LIST 'chunks' with size = 1
  End of current LIST or ENTRY
   name = Win32/AudioSuperBundle
   alwaysEmitSuperbundle = 0
  End of current LIST or ENTRY

```

thanks to mitsuhiko for info about this format in BF3 thread.
## Post #8
- Username: hunpatrik
- Rank: veteran
- Number of posts: 101
- Joined date: Tue Jan 05, 2010 4:21 am
- Post datetime: 2011-11-19T22:07:31+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

Okay okay, thanks for the info.
## Post #9
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-11-20T01:03:01+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

Nice i cant wait!
## Post #10
- Username: sarzamin
- Rank: beginner
- Number of posts: 38
- Joined date: Fri Nov 19, 2010 10:19 pm
- Post datetime: 2011-11-25T14:43:43+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

plz release asap, i can`t wait
## Post #11
- Username: hunpatrik
- Rank: veteran
- Number of posts: 101
- Joined date: Tue Jan 05, 2010 4:21 am
- Post datetime: 2011-11-25T16:32:05+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

Neither I.
## Post #12
- Username: REDZOEU
- Rank: veteran
- Number of posts: 151
- Joined date: Thu Mar 10, 2011 3:03 pm
- Post datetime: 2011-11-27T16:59:48+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

Man! I'll be really happy if we can extract files from those compressed files! After we figure out an extractor, of course someone needs to make a program to convert it to useful format like Forza Studio for FM3 and FM4 cars. Hope Oleg the maker of ZModeler 2 can make a filter for the extracted files. I really want cars from The RUN. Although few cars were just converted from old series NFS to The RUN like the GT-R which had false GT-R badge texture (Skyline R34 GT-R badge texture) like in NFS Pro Street, Undercover, SHIFT, and SHIFT2U. Although they put true GT-R R35 badge texture on NFSHP.. 
But all i'm sayin is... I Can't Wait until someone can extract models out of the game!
## Post #13
- Username: hunpatrik
- Rank: veteran
- Number of posts: 101
- Joined date: Tue Jan 05, 2010 4:21 am
- Post datetime: 2011-11-27T21:40:50+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

I just want the texts is there anyone who can help me? I know there is a team who already made a translation.
## Post #14
- Username: zhelatinobambino
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2011-11-28T06:48:24+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

> Reply from hunpatrik
>
> I just want the texts is there anyone who can help me? I know there is a team who already made a translation.

Yes this is what i'm also looking for x360...
## Post #15
- Username: sarzamin
- Rank: beginner
- Number of posts: 38
- Joined date: Fri Nov 19, 2010 10:19 pm
- Post datetime: 2011-11-28T13:56:26+00:00
- Post Title: Need For Speed: The Run [.SB & .TOC]

i need tools for translate video in the game
## Post #16
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2011-12-01T02:38:28+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

As I promised, the unpacked UI.sb, with bundles, that needs further reversing and unpacking (but format is not very complicated at first look):
[http://www.multiupload.com/KU6463PF11](http://www.multiupload.com/KU6463PF11)
BMS script is still buggy (bundles unpacking part is ok, but chunks unpacking isn't), so I'm not going to post it now. Maybe, if I finish it, I'll post it. 
A small bonus: [http://www.multiupload.com/CT1O4ALM35](http://www.multiupload.com/CT1O4ALM35)
Convert it to .avi with eaconv.exe
## Post #17
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-12-03T19:19:06+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Nice, can't wait for the final bms script!
## Post #18
- Username: xpertvision
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Dec 09, 2011 7:14 am
- Post datetime: 2011-12-08T23:20:14+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

cant wait to start making mods dor NFS THE RUN

i need the .sb unpacker/repacker please

many thanks
## Post #19
- Username: sarzamin
- Rank: beginner
- Number of posts: 38
- Joined date: Fri Nov 19, 2010 10:19 pm
- Post datetime: 2011-12-09T18:34:40+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

unpacker please
## Post #20
- Username: REDZOEU
- Rank: veteran
- Number of posts: 151
- Joined date: Thu Mar 10, 2011 3:03 pm
- Post datetime: 2011-12-14T08:01:55+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Hhhhmmm... if the unpacker is done... Will it extract car model and texture data(s)?
If it is possible, good . If we can also extract some dummies like headlight dummies, or wheel dummies (for wheel position), it'll be a hella nice work
## Post #21
- Username: SnarbleBarb
- Rank: n00b
- Number of posts: 17
- Joined date: Thu Dec 15, 2011 4:24 pm
- Post datetime: 2011-12-15T08:33:06+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Axsis how far did you get?

I wrote a python script using the libfb2 to dump out all of the vehicles... but I'm not sure what to do with the resulting files. Looking at them in a hex editor, they have all sorts of _c4/*** directory listings with blobs of binary. It kinda sounds like they combine all of the meshes, textures, and other parameters into these files. Any idea how to extract/unpack these resultant files into workable images and mesh files? I'd love to get some of these cars into GTA4, etc.

```
import os
import shutil

dst = r'C:\Temp\NFS'
idx = 0

BUNDLE_PATH = r'C:\Program Files (x86)\Need for Speed The Run\Need for Speed The Run\Data\Win32\ShippingVehicles'
"BUNDLE_PATH = r'C:\Program Files (x86)\Need for Speed The Run\Need for Speed The Run\Data\Win32\_c4\Blueprint\Metadata\AllVehicles_BlueprintMDB'"

bundle = Bundle(BUNDLE_PATH)
total = len(bundle.bundle_files)

idx = 0

for items in bundle.iter_files():
    vehicle = bundle.get_file(items.id)
    fn = os.path.join(dst, items.id)
    directory = os.path.dirname(fn)
    if not os.path.isdir(directory):
        os.makedirs(directory)
    with open(fn, 'wb') as out:
        print 'Extracting %s % 8d Bytes (%d/%d)' % \
            (vehicle.id, vehicle.size, idx, total)
        shutil.copyfileobj(vehicle.open(), out)
    idx = idx + 1
```
## Post #22
- Username: sarzamin
- Rank: beginner
- Number of posts: 38
- Joined date: Fri Nov 19, 2010 10:19 pm
- Post datetime: 2011-12-20T21:43:29+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Axsis,ANY NEWS?
## Post #23
- Username: xpertvision
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Fri Dec 09, 2011 7:14 am
- Post datetime: 2011-12-20T23:37:40+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

any new on this?
## Post #24
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2011-12-21T03:29:40+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Ok, here is the script for unpacking chunks and bundles from toc+sb files.
Audio and video are stored in chunks, while textures, levels and cars geometry and other data are in bundles. There is no chunk filenames stored in .toc, only hashes, so extracted filenames will be like "1DBEAD526CD3C6A1652994ACAF4D3C76" - that's normal.
Bundles are unpacked with normal names like "Win32\_c4\ui\flow\graph\frontend\ferootgraph_resourcebundle". Any help on further bundle unpacking is welcomed.
Repacking using quickbms -r should work, but not throughly tested. (with standart repacking limitations like <= size of repacking file)
Use this script on original .toc file (not decrypted with bf3decrypt or any other tool).
Usually script finishes with error "incomplete input file number -1, can't read 1 bytes." - this is normal.

```
Get DICE_HDR long
If DICE_HDR == 0x00CED100
 Get TOC_SIZE asize
 Math TOC_SIZE -= 0x22C
 CallFunction DecryptTOC
 #Log "_decrypted.toc" 0 TOC_SIZE MEMORY_FILE
 CallFunction TOCParser
EndIf

##############################
StartFunction DecryptTOC
 FileXOR 0x7B
 Log MEMORY_FILE2 0x128 0x101
 FileXOR ""
 Log MEMORY_FILE 0x22C TOC_SIZE
 For I = 0 < TOC_SIZE
  Math J = I
  Math J %= 0x101
  GetVarChr KEY MEMORY_FILE2 J byte
  GetVarChr B MEMORY_FILE I byte
  Math B ^= KEY
  PutVarChr MEMORY_FILE I B byte
 Next I
EndFunction
##############################
StartFunction GetVLISize
Set SHIFT byte 0
Set ENTRYSIZE long 0
Do
 Get B byte MEMORY_FILE
 Math MSB = B
 Math B & 0x7F
 Math B < SHIFT
 Math SHIFT + 7
 Math ENTRYSIZE | B
 Math MSB > 7
While MSB == 1
EndFunction
##############################
StartFunction TOCParser
Math FFLAG = 0
Do
 Get TYPECODE byte MEMORY_FILE
 Math FLAGS = TYPECODE
 Math TYPECODE & 0x1F
 Math FLAGS > 5
 #Print "T:%TYPECODE% \t F:%FLAGS%"

 If FLAGS >= 4
  Set KEY string ""
 ElseIf TYPECODE == 0
  Set KEY string ""
 Else
  Get KEY string MEMORY_FILE
 EndIf

 If TYPECODE == 0 # Terminator
  Print "End of current LIST or ENTRY"
 ElseIf TYPECODE == 1 # List
  CallFunction GetVLISize 1
  Print "Start of LIST '%KEY%' with size = %ENTRYSIZE%"
  CallFunction TOCParser
 ElseIf TYPECODE == 2 # Entry
  CallFunction GetVLISize 1
  Print "Start of ENTRY '%KEY%' with size = %ENTRYSIZE%"
  CallFunction TOCParser
 ElseIf TYPECODE == 6 # Bool
  Get VALUE byte MEMORY_FILE
  Print " %KEY% = %VALUE%"
 ElseIf TYPECODE == 7 # String
  Get STRLEN byte MEMORY_FILE
  GetDString VALUE STRLEN MEMORY_FILE
  Print " %KEY% = %VALUE%"
 ElseIf TYPECODE == 8 # Int32
  Get VALUE long MEMORY_FILE
  Print " %KEY% = %VALUE%"
 ElseIf TYPECODE == 9 # Int64
  Get VALUE longlong MEMORY_FILE
  Print " %KEY% = %VALUE%"
 ElseIf TYPECODE == 15 # UUID
  Endian BIG
  Get HASH1 long MEMORY_FILE
  Get HASH2 long MEMORY_FILE
  Get HASH3 long MEMORY_FILE
  Get HASH4 long MEMORY_FILE
  Endian LITTLE
  String VALUE p= "%08X%08X%08X%08X" HASH1 HASH2 HASH3 HASH4
  Print " %KEY% = %VALUE%"
 Else
  Print "Unknown TYPECODE = %TYPECODE%"
  CleanExit
 EndIf
 
 If KEY == "id"
  Set FNAME string VALUE
  Math FFLAG | 1
 ElseIf KEY == "offset"
  Math FOFFSET = VALUE
  Math FFLAG | 2
 ElseIf KEY == "size"
  Math FSIZE = VALUE
  Math FFLAG | 4
 EndIf
 If FFLAG == 7
  #Print "%FNAME% %FOFFSET% %FSIZE%"
  Log FNAME FOFFSET FSIZE 1
  Math FFLAG = 0
 EndIf

While TYPECODE != 0
EndFunction
##############################
```
## Post #25
- Username: nosfornos
- Rank: advanced
- Number of posts: 55
- Joined date: Wed Dec 21, 2011 4:16 pm
- Post datetime: 2011-12-21T08:25:58+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

ohh.
For now, I wait for progress.
Once the BMS Script used, then I think the best feeling.
Sorry in such poor English.
## Post #26
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-12-21T17:39:38+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Thanks it worked!!

I found the filenames for the audio chunks in the Level SB files but as to how to get that out and match them is way out of my league.
## Post #27
- Username: sarzamin
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2011-12-21T17:47:50+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from Axsis
>
> Ok, here is the script for unpacking chunks and bundles from toc+sb files.
Audio and video are stored in chunks, while textures, levels and cars geometry and other data are in bundles. There is no chunk filenames stored in .toc, only hashes, so extracted filenames will be like "1DBEAD526CD3C6A1652994ACAF4D3C76" - that's normal.
Bundles are unpacked with normal names like "Win32\_c4\ui\flow\graph\frontend\ferootgraph_resourcebundle". Any help on further bundle unpacking is welcomed.
Repacking using quickbms -r should work, but not throughly tested. (with standart repacking limitations like <= size of repacking file)
Use this script on original .toc file (not decrypted with bf3decrypt or any other tool).
Usually script finishes with error "incomplete input file number -1, can't read 1 bytes." - this is normal.
Code: Select allOpen FDDE SB 1
Get DICE_HDR long
If DICE_HDR == 0x00CED100
 Get TOC_SIZE asize
 Math TOC_SIZE -= 0x22C
 CallFunction DecryptTOC
 #Log "_decrypted.toc" 0 TOC_SIZE MEMORY_FILE
 CallFunction TOCParser
EndIf

##############################
StartFunction DecryptTOC
 FileXOR 0x7B
 Log MEMORY_FILE2 0x128 0x101
 FileXOR ""
 Log MEMORY_FILE 0x22C TOC_SIZE
 For I = 0 < TOC_SIZE
  Math J = I
  Math J %= 0x101
  GetVarChr KEY MEMORY_FILE2 J byte
  GetVarChr B MEMORY_FILE I byte
  Math B ^= KEY
  PutVarChr MEMORY_FILE I B byte
 Next I
EndFunction
##############################
StartFunction GetVLISize
Set SHIFT byte 0
Set ENTRYSIZE long 0
Do
 Get B byte MEMORY_FILE
 Math MSB = B
 Math B & 0x7F
 Math B < SHIFT
 Math SHIFT + 7
 Math ENTRYSIZE | B
 Math MSB > 7
While MSB == 1
EndFunction
##############################
StartFunction TOCParser
Math FFLAG = 0
Do
 Get TYPECODE byte MEMORY_FILE
 Math FLAGS = TYPECODE
 Math TYPECODE & 0x1F
 Math FLAGS > 5
 #Print "T:%TYPECODE% \t F:%FLAGS%"

 If FLAGS >= 4
  Set KEY string ""
 ElseIf TYPECODE == 0
  Set KEY string ""
 Else
  Get KEY string MEMORY_FILE
 EndIf

 If TYPECODE == 0 # Terminator
  Print "End of current LIST or ENTRY"
 ElseIf TYPECODE == 1 # List
  CallFunction GetVLISize 1
  Print "Start of LIST '%KEY%' with size = %ENTRYSIZE%"
  CallFunction TOCParser
 ElseIf TYPECODE == 2 # Entry
  CallFunction GetVLISize 1
  Print "Start of ENTRY '%KEY%' with size = %ENTRYSIZE%"
  CallFunction TOCParser
 ElseIf TYPECODE == 6 # Bool
  Get VALUE byte MEMORY_FILE
  Print " %KEY% = %VALUE%"
 ElseIf TYPECODE == 7 # String
  Get STRLEN byte MEMORY_FILE
  GetDString VALUE STRLEN MEMORY_FILE
  Print " %KEY% = %VALUE%"
 ElseIf TYPECODE == 8 # Int32
  Get VALUE long MEMORY_FILE
  Print " %KEY% = %VALUE%"
 ElseIf TYPECODE == 9 # Int64
  Get VALUE longlong MEMORY_FILE
  Print " %KEY% = %VALUE%"
 ElseIf TYPECODE == 15 # UUID
  Endian BIG
  Get HASH1 long MEMORY_FILE
  Get HASH2 long MEMORY_FILE
  Get HASH3 long MEMORY_FILE
  Get HASH4 long MEMORY_FILE
  Endian LITTLE
  String VALUE p= "%08X%08X%08X%08X" HASH1 HASH2 HASH3 HASH4
  Print " %KEY% = %VALUE%"
 Else
  Print "Unknown TYPECODE = %TYPECODE%"
  CleanExit
 EndIf
 
 If KEY == "id"
  Set FNAME string VALUE
  Math FFLAG | 1
 ElseIf KEY == "offset"
  Math FOFFSET = VALUE
  Math FFLAG | 2
 ElseIf KEY == "size"
  Math FSIZE = VALUE
  Math FFLAG | 4
 EndIf
 If FFLAG == 7
  #Print "%FNAME% %FOFFSET% %FSIZE%"
  Log FNAME FOFFSET FSIZE 1
  Math FFLAG = 0
 EndIf

While TYPECODE != 0
EndFunction
##############################

Hi thx for script. Does it also work for X360 version please ?
## Post #28
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-12-21T17:56:35+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

It works on both pc and 360.
## Post #29
- Username: michalss
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2011-12-21T20:03:17+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

does work for loc files  but extracted text files are mess
## Post #30
- Username: TomWin
- Rank: veteran
- Number of posts: 146
- Joined date: Mon Apr 12, 2010 2:46 am
- Post datetime: 2011-12-22T06:58:54+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

I'm glad that somebody figured out how to extract data from .SB and .TOC files.
## Post #31
- Username: sobhannina
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Dec 29, 2011 3:25 am
- Post datetime: 2011-12-28T19:39:28+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Hi ! would you plz Help me use this script ?

i copy the Script in to the Script Editor ... then select the Quick BMS Option and the click on "Use on" 
Then Select "LoadingScreen.sb" 
from NFS DATA folder , when click on open ... i got an Error !!!

the Error saying this : "QBMS: Failed TO produce List" 

Am i missing to do something ???!!!

Please help i am in hurry !!!!!
## Post #32
- Username: SnarbleBarb
- Rank: n00b
- Number of posts: 17
- Joined date: Thu Dec 15, 2011 4:24 pm
- Post datetime: 2011-12-28T22:00:22+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from sobhannina
>
> Hi ! would you plz Help me use this script ?

i copy the Script in to the Script Editor ... then select the Quick BMS Option and the click on "Use on" 
Then Select "LoadingScreen.sb" 
from NFS DATA folder , when click on open ... i got an Error !!!

the Error saying this : "QBMS: Failed TO produce List" 

Am i missing to do something ???!!!

Please help i am in hurry !!!!!

I think his instructions said to use it on the .toc file, not the .sb. I haven't tried it yet.
## Post #33
- Username: sobhannina
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Dec 29, 2011 3:25 am
- Post datetime: 2011-12-28T22:04:36+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from SnarbleBarb
>
> sobhannina wrote:Hi ! would you plz Help me use this script ?

i copy the Script in to the Script Editor ... then select the Quick BMS Option and the click on "Use on" 
Then Select "LoadingScreen.sb" 
from NFS DATA folder , when click on open ... i got an Error !!!

the Error saying this : "QBMS: Failed TO produce List" 

Am i missing to do something ???!!!

Please help i am in hurry !!!!!

I think his instructions said to use it on the .toc file, not the .sb. I haven't tried it yet.

i tried both of them ! 
Nothing happened ! i got the same error !

Plz help Axis !

Plz
## Post #34
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-12-28T22:49:51+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Make sure to extract it in the same directory as the sb/toc files.
## Post #35
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2011-12-29T04:34:26+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

sobhannina, first make sure you're using latest version of [quickbms](http://aluigi.org/quickbms/)
if it's first time you're using this tool - read [documentation](http://aluigi.org/papers/quickbms.txt) on how to use it. in brief: run quickbms, select script file, select input .toc file, select output dir. exactly in that order.
output dir may not be the same dir as the input, just tested this.
if you still get an error, copy all what quickbms outputs in it's window and paste here.
## Post #36
- Username: white00gt
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Sun May 01, 2011 10:04 am
- Post datetime: 2011-12-29T05:31:29+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

are the files that are extracted in a format that can be read by any 3d programs yet?
## Post #37
- Username: sobhannina
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Dec 29, 2011 3:25 am
- Post datetime: 2011-12-29T07:45:26+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

The contents of this post was deleted because of possible forum rules violation.
## Post #38
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2011-12-29T11:52:12+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> the result is a 135kb Unknown file ! i mean the extension of it is "loadscreen.file"
yes, this is loadscreen bundle file and it means that script works well.  

> i really need it believe me or not ... maybe its funny but if i cant Edit this Game "NFS Run" my hole life gonna be Destroyed at all !!
so, do some research by yourself and find the way to unpack bundle files. save your life 
and don't forget to share results of your research with us.
## Post #39
- Username: sobhannina
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Dec 29, 2011 3:25 am
- Post datetime: 2011-12-29T16:09:05+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Ok i do some researches and find that ... all of the games and programs out there uses Specific File Formats !
So this mean's EA or any Game company convert their files and archives into these Formats However 
Most of these formats are not "open able" in normal way !!! (i know its old news:D) 

according to this Web : [http://www.downloadatoz.com/file-extens ... nsion.html](http://www.downloadatoz.com/file-extensions/sb-file-extension.html)
".sb is a Signed Byte Audio File. Detailed information of file extension .sb on what is .sb File and how to open/play .sb file with no trouble. "
also : 
"SB file is 8bit sound data - Raw Signed Pulse Code Modulation (PCM) Byte format."

so here we have a fake info on this file ! or can think this way ... EA wanna fool us !:D 

by the way , according to this webpage : 
[http://mark0.net/soft-trid-deflist-s.html](http://mark0.net/soft-trid-deflist-s.html)

i understand that  , there are 2 different definitions of ".SB" file !

1- SB	 <======>   SBX SpinnerBaker eXtractor compressed archive	

2-SB  <======>    Scratch project  (a File extension can be used  and Create by Scratch programming language.)

So ... here is a forum that have some info about "Scratch Programming Language " : 
[http://scratch.mit.edu/forums/viewtopic.php?id=26096](http://scratch.mit.edu/forums/viewtopic.php?id=26096)


Can not find any Extractor or such thing yet ! currently am searching ...
## Post #40
- Username: SnarbleBarb
- Rank: n00b
- Number of posts: 17
- Joined date: Thu Dec 15, 2011 4:24 pm
- Post datetime: 2011-12-29T17:32:03+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

.sb = superbundle. It's a proprietary format by DICE for the Frostbite 2 engine. You've already extracted the superbundle file. Your resultant file is a bundle file. As far as I know, it's not comparable to any existing file. Open it with a hex editor and see what's inside. That's the part that I'm stuck at, too. Not sure how to approach this. Anyone have any thoughts on what to do with the bundles?

I'm thinking that the binary blob at the end is all of the assets mashed together and the binary junk after each file name is some kind of pointer into the binary blob with possible extra parameters(?).
## Post #41
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2011-12-29T18:14:32+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Would be interesting how the audio files listed in the level SB banks are linked to chunksaudio.
## Post #42
- Username: sobhannina
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Dec 29, 2011 3:25 am
- Post datetime: 2011-12-29T19:30:50+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Well ! .... i believe you are absolutely write mate !
am not familiar with these kinda files 
so i just do a research and share some info !

So many thanks for make that for us Clear ! ... so any chance we can look inside the "Unknown" File that  the BMS Script Give it to us ?

I think  i mean i guess Sarzamin .... get some results but do not want to share that with us !
## Post #43
- Username: sobhannina
- Rank: n00b
- Number of posts: 10
- Joined date: Thu Dec 29, 2011 3:25 am
- Post datetime: 2011-12-29T19:48:43+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Guys .... i am ready to Pay 300 U.S $  to who make a Tool , Script i donno ... Something for unpacking and Repacking this Goddamn NFS Run ... I need to Edit some Thing in the Game , Including some InGame Videos and Some Loading Screen Stuff 


Plz Guys .... i need it ! as i told you before .... its about my life !!!! 

plz help me ! maybe its funny for you ... but i need to edit this game !!!

or else i will be a poor man ( and i can not  honor for my family and my Little son ( plz help !
don't let me shame in front of my family 

i will pay 300$ for who made the tool script anything i can edit this game
## Post #44
- Username: mnn
- Rank: advanced
- Number of posts: 66
- Joined date: Sun Jul 31, 2011 6:00 pm
- Post datetime: 2011-12-29T21:17:21+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

SnarbleBarb: NFS Hot Pursuit 2010 also uses bundles - but they're completely different to these bundles. Also NFSHP2010 was made by Criterion Games using their own engine.

I guess you'll need to manually sift through all that raw data - that's what I had to do with NFSHP2010. The only things that I found were figured out were: bundle format, texture format and models format. Everything else I had to figure out on my own (which is about 20 another formats). Heh, and still I'm far from finishing.
## Post #45
- Username: white00gt
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Sun May 01, 2011 10:04 am
- Post datetime: 2012-01-10T01:30:23+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Maybe if someone is close to arushan or oleg we can enlist their help in making an importer to zmodeler and 3ds max wish I knew what the hell I was looking at I used the scripts and just get a bunch of vehicle blueprint bundle files which I would imagine is where the meshes are for the car models
## Post #46
- Username: MMWsmokey
- Rank: beginner
- Number of posts: 38
- Joined date: Sun Dec 20, 2009 1:34 am
- Post datetime: 2012-01-10T21:55:46+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from white00gt
>
> Maybe if someone is close to arushan or oleg we can enlist their help in making an importer to zmodeler and 3ds max wish I knew what the hell I was looking at I used the scripts and just get a bunch of vehicle blueprint bundle files which I would imagine is where the meshes are for the car models

Oleg did look into the bundle files, but as mentioned earlier they are of no use as they are, think of it like a packed format that we cant unpack just yet

so unless someone figures those bundle files out, oleg wont be able to make an importer (related: [http://forum.zmodeler2.com/viewtopic.php?f=6&t=5434](http://forum.zmodeler2.com/viewtopic.php?f=6&t=5434))
## Post #47
- Username: white00gt
- Rank: ultra-n00b
- Number of posts: 9
- Joined date: Sun May 01, 2011 10:04 am
- Post datetime: 2012-01-19T04:07:19+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Has anyone been able to just rip any cars out of the game with 3dx or any other program?
## Post #48
- Username: REDZOEU
- Rank: veteran
- Number of posts: 151
- Joined date: Thu Mar 10, 2011 3:03 pm
- Post datetime: 2012-01-20T09:43:20+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

white00gt, 3DRipperDX does not work with DirectX 11 games. The RUN itself uses DirectX 11 because of it's new engine, the Frosbite 2.0 by DICE. A modder of GTA IV once uploaded his Lamborghini Aventador mod to GTAInside. In the description, he says that he ripped it from Need For Speed The Run Limited Edition. But then after few days, i checked back and the car was gone from the Lamborghini section of GTA IV Cars at GTAInside. This could probably be a fake. But i already downloaded the car before it was gone from the list. The Aventadors which exist as mods for games now was from Forza Motorsport 4 as the LOD0 model with insane polygon (or triangle) count.

So, to sum it all up...
3DRipperDX does not work with The RUN or other DirectX 11 games. It only works for DirectX 6, 8, 9 games.
## Post #49
- Username: sarzamin
- Rank: beginner
- Number of posts: 38
- Joined date: Fri Nov 19, 2010 10:19 pm
- Post datetime: 2012-01-22T10:17:26+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Any news?
## Post #50
- Username: Hamidvip
- Rank: beginner
- Number of posts: 26
- Joined date: Sun Jul 31, 2011 3:52 pm
- Post datetime: 2012-01-26T10:53:09+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

I would like to see texture in game. who can help me.
## Post #51
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2012-01-31T09:28:54+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Working on bundle unpacking. Still in progress - this format is pretty complicated. And there is some encrypted data in bundle header, that, I believe, may be very useful.
Textures in bundles are without headers, so I manually added them. First 2 are from Lambo Aventador, last one is from UI.
[](http://fastpic.ru/view/30/2012/0131/a06ff33eb23d192f5ccfcd836c9fe9fb.jpg.html) [](http://fastpic.ru/view/30/2012/0131/62b94651938762a5824fdca3c385e2fc.jpg.html) [](http://fastpic.ru/view/30/2012/0131/cd04c6203943d25387288b51ebe62b57.jpg.html)
## Post #52
- Username: Hamidvip
- Rank: beginner
- Number of posts: 26
- Joined date: Sun Jul 31, 2011 3:52 pm
- Post datetime: 2012-01-31T14:50:35+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

What is did you add the command line?
Which file you worked on?
## Post #53
- Username: REDZOEU
- Rank: veteran
- Number of posts: 151
- Joined date: Thu Mar 10, 2011 3:03 pm
- Post datetime: 2012-02-01T16:18:14+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Axsis, a very nice work you did there!
I'm hoping to see car's 3D Model with their textures 
Good luck in the progress mate
## Post #54
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2012-02-13T19:45:04+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Is there are a way to extract the sounds/Music assets like the ones that are titled: MX_ ect. and how to they connect to the ChunksAudio bank. Would you have to match them up with the Chunk ID and offset?

EDIT: just tried to extract the data from the 360 level files but it doesn't work. maybe encrypted.

EDIT. nvm works now. 

still weirded out about the sound data.
## Post #55
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2012-02-14T00:25:03+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

bundles can contain 3 types of data. one of them - chunked data (lets call it type3), like in superbundles (.sb) without names, only with IDs, and contain raw data, even without headers (textures for example). all info about this chunks are stored in type1 files, which are usually small. for now i can unpack bundles, with proper names for first 2 types of data, but can't match type3 chunk files with type1 info files even within single bundle
## Post #56
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2012-02-14T00:44:25+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Hmm I see, thanks for the info and will be watching for further progress. Thanks so much for all the research.
## Post #57
- Username: nitoiviorel
- Rank: beginner
- Number of posts: 21
- Joined date: Fri Oct 07, 2011 6:37 pm
- Post datetime: 2012-02-16T17:33:27+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

so axsis u have ben made to extract music from .SB file?If yes,how u do that?
## Post #58
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2012-02-16T18:16:02+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

All sounds/music are in chunksAudio. Extraction is no problem with the script but the PC version uses a new variant of EA ADPCM so conversion is not possible, Also the music is splitted up into individual segments which are out of order so without the proper filenames combining those is almost impossible because the nams contain the proper marker order. On the xbox360 version the music uses packed EA XMA audio which you can demux with ea_multi_xma.

I have converted the music thus far but like i said i cannot determine an order to combine the dynamic segments since there is no names.
## Post #59
- Username: StillDre
- Rank: n00b
- Number of posts: 10
- Joined date: Sun Dec 11, 2011 9:31 pm
- Post datetime: 2012-02-21T14:11:25+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Hi, i'm new here and i was wondering if i can extract 3d models from NFS HP or/and NFS THE RUN?
I know that i can use 3d ripper ( max plugin ) but it's hard to recreate something like an whole game map for GTA IV.
Something like noesis would be nice though, i have allready been extracting RDR and FM3 models from xbox.

Thx anyway, i hope someone got answers on that..
## Post #60
- Username: RaduCristian
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Thu Feb 23, 2012 5:46 am
- Post datetime: 2012-02-22T21:50:32+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

if you look on the left side.. it writes all the parts that a LOD could include.. could be this relevant?

and another few pics you can find them here([http://speedhunters.com/archive/2011/11 ... d-run.aspx](http://speedhunters.com/archive/2011/11/17/behind-the-scenes-creating-cars-need-for-speed-run.aspx))... it shows some part names... might be usefull
## Post #61
- Username: Hamidvip
- Rank: beginner
- Number of posts: 26
- Joined date: Sun Jul 31, 2011 3:52 pm
- Post datetime: 2012-02-23T16:12:12+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Axsis,which file you change manually to texture form?
## Post #62
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2012-02-23T19:30:16+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from Hamidvip
>
> Axsis,which file you change manually to texture form?
I've unpacked bundles first, then added DDS DXT5 header to some of the unpacked files. These headerless textures exists in almost every bundle.
## Post #63
- Username: Hamidvip
- Rank: beginner
- Number of posts: 26
- Joined date: Sun Jul 31, 2011 3:52 pm
- Post datetime: 2012-02-25T08:43:45+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

I've unpacked bundles files. But I know textures "Lambo Aventador" which file is exactly.

> Reply from Axsis
>
> Hamidvip wrote:Axsis,which file you change manually to texture form? 
I've unpacked bundles first, then added DDS DXT5 header to some of the unpacked files. These headerless textures exists in almost every bundle.
## Post #64
- Username: Hamidvip
- Rank: beginner
- Number of posts: 26
- Joined date: Sun Jul 31, 2011 3:52 pm
- Post datetime: 2012-02-25T15:24:05+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Which file just textures? (ShippingVehicles.sb - Chunks0.sb - Chunks1.sb - Chunks2.sb)

I think this is the textures! [http://www.mediafire.com/?1r18fsxwv4ex4t6](http://www.mediafire.com/?1r18fsxwv4ex4t6)
I think again used the compressor Zlip.

!!!!?????
## Post #65
- Username: Hamidvip
- Rank: beginner
- Number of posts: 26
- Joined date: Sun Jul 31, 2011 3:52 pm
- Post datetime: 2012-03-01T14:19:49+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

It is nobody's forum?
## Post #66
- Username: REDZOEU
- Rank: veteran
- Number of posts: 151
- Joined date: Thu Mar 10, 2011 3:03 pm
- Post datetime: 2012-03-04T13:23:02+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Hamidvip, why ask such question on this kind of thread?
This forum does have an owner. It is not nobody's forum... Duh...
And please, don't go OFFTOPIC. This thread is to discuss the extraction of models, textures, sounds/music/audio/song, or language files from Need For Speed: The Run from .sb and .toc file which was actually DICE's Frosbite 2 format.
## Post #67
- Username: nosfornos
- Rank: advanced
- Number of posts: 55
- Joined date: Wed Dec 21, 2011 4:16 pm
- Post datetime: 2012-03-05T06:46:54+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Want to think of what to do with the file extension ".Blueprintbundle".
With it, it was found that examine the file in Notepad.
Directory for the data of the car is a "bundle \ Win32 \ _c4 \ vehicles / nfs \".
In addition, the data shall be estimated as being used in the mesh (bb_lam_cou_qv_85_kit00.blueprintbundle)
lam_cou_qv_85_kit00_stream_meshchassis
lam_cou_qv_85_kit00_stream_meshbody
lam_cou_qv_85_kit00_stream_meshbumpers
lam_cou_qv_85_kit00_stream_meshskirt
lam_cou_qv_85_kit00_stream_meshdoors
lam_cou_qv_85_kit00_stream_meshinterior
lam_cou_qv_85_kit00_stream_meshlicenseplate
lam_cou_qv_85_kit00_stream_meshexhaust
lam_cou_qv_85_kit00_stream_meshwheelsfront
lam_cou_qv_85_kit00_stream_meshbrakelight
lam_cou_qv_85_kit00_stream_meshengine
Etc.....
Sorry do not know when or information was useless.
I think another thing I want to say is, if you can unzip and happy "bmsscript" a. Blueprintbundle. 
Many people have a conversion is from Need For Speed. Indeed, molding well to a small number of polygons, have the quality to other games and still not lose. 
NFS The Run also good model because of work now, hopes that can be converted.

I'm sorry in poor English that I use translation google.
## Post #68
- Username: blackfoxeye
- Rank: veteran
- Number of posts: 110
- Joined date: Tue Mar 08, 2011 7:03 pm
- Post datetime: 2012-03-26T08:20:54+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Anybody successfully extracted the mesh file ?
Or any progress ?

Please please... It will be really great if we can edit the game.
## Post #69
- Username: milance941
- Rank: beginner
- Number of posts: 22
- Joined date: Tue Sep 06, 2011 1:00 am
- Post datetime: 2012-04-16T14:23:55+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Anyone succeed in extracting some characters from this game?
I would like to extract main character and some female models, they are pretty HQ
## Post #70
- Username: nitoiviorel
- Rank: beginner
- Number of posts: 21
- Joined date: Fri Oct 07, 2011 6:37 pm
- Post datetime: 2012-05-08T06:09:39+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Thank you orange.I finaly made to extract and demux chuncks audio from .sb.I converted that stream in to wav ussing Vgm Toolbox.I cant figure out how u put pieces in perfect order?Are to much splited files and so hard to put these files together and mix exactly like in game because have no order.
You have made a great job with this soundtrack.Score is so beautiful.The best score of need for speed series.I apreciate your work except ur selfish(ask you many times to help me but never reply).No Problem cause i have made by my self to decrypt,demux and convert.Thx again and have a good luck.

Here is all software's need for extracting demux and convert music from nfs the run.
[http://www.mediafire.com/?r0f8ie4rgcq7e7f](http://www.mediafire.com/?r0f8ie4rgcq7e7f)
Mentioned you need xbox version.

0.Extract content from iso xbox image using XBOX360ISOExtract.0.6.
1.Extract extensions FILE from chuncksaudio and chuncksaudio b using quickbms and read how u extract.txt.
2.With files result after extraction ,demux using Ea Multi Xma(u need know how use cmd ) .You got files with name AB325239698268468264_stream
3.Open up VGMToolbox - Misc. Tools - Stream tools - XMA -and select XMA Converter ,select frequency 44100 then drag and drop files there - anywhere in that window.

Wait for convert to wav.In the same folder with streamed files vgmtools created automaticaly folder with converted files.
Sorry for bad english
I hope i was helpful.Good luck!
## Post #71
- Username: headrushmayor
- Rank: beginner
- Number of posts: 28
- Joined date: Mon Nov 29, 2010 12:03 pm
- Post datetime: 2012-06-25T09:03:29+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

QuickBMS generic files extractor 0.3.9
by Luigi Auriemma
e-mail: [aluigi@autistici.org](mailto:aluigi@autistici.org)
web:    aluigi.org

- GUI mode activated, remember that the tool works also from command-line
  where are available various options like folder scanning, filters and so on

- select the BMS script to use
- select the input archive/file to extract
- select the output folder where extracting the files
- open input file D:\Games\Need for Speed The Run\Data\Win32\AudioSuperBundle.to
c
- open script D:\Games\Need for Speed The Run\Data\Win32\nfs the run.bms

Error: invalid command "ElseIf" or arguments 3 at line 52

Press RETURN to quit
## Post #72
- Username: Axsis
- Rank: advanced
- Number of posts: 48
- Joined date: Fri Oct 21, 2011 7:55 pm
- Post datetime: 2012-06-29T07:01:28+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from headrushmayor
>
> QuickBMS generic files extractor 0.3.9
...
0.3.9
0.3.9
0.3.9

Get newer version...
## Post #73
- Username: blackfoxeye
- Rank: veteran
- Number of posts: 110
- Joined date: Tue Mar 08, 2011 7:03 pm
- Post datetime: 2012-07-23T09:09:52+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Any progress towards Texture Extraction ?
## Post #74
- Username: blackfoxeye
- Rank: veteran
- Number of posts: 110
- Joined date: Tue Mar 08, 2011 7:03 pm
- Post datetime: 2012-07-27T09:45:07+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Is there anybody making bms script for texture extraction from .sb and .toc files?

Please help.
## Post #75
- Username: REDZOEU
- Rank: veteran
- Number of posts: 151
- Joined date: Thu Mar 10, 2011 3:03 pm
- Post datetime: 2012-07-29T12:33:30+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

It's already a lot of months after The RUN's release and none has made their progress to extract 3d data of cars with texture and music files.
Most Wanted is coming this October/November. Isn't it a bit sad that a modern need for speed's data to be un-extractable?
So far i only know that most NFS generation cars can be extracted (from NFS 3 until SHIFT 2 Unleashed)
Someone really should made more progress in this :\.
I know this kind of stuff would take time, but usually, reverse engineers crack NFS formats way faster than this.
## Post #76
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2012-07-29T17:19:34+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Its because the frostbite 2 engine is complicated a shell.
## Post #77
- Username: REDZOEU
- Rank: veteran
- Number of posts: 151
- Joined date: Thu Mar 10, 2011 3:03 pm
- Post datetime: 2012-07-30T06:26:56+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

I knew it... Yes indeed Frosbite 2 is complicated. Well let's  just hope Most Wanted will be easier... It does got cars from the run. Aw man even a low rated game cant be cracked... .  Screw Frosbite -.-
## Post #78
- Username: abdullayev007
- Rank: beginner
- Number of posts: 21
- Joined date: Thu Aug 02, 2012 7:02 am
- Post datetime: 2012-08-06T11:03:02+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

hi,
also Battlefield 3 using .sb and .toc file formats.
Anyone knows how I can open(extract/import) these file formats?
## Post #79
- Username: blackfoxeye
- Rank: veteran
- Number of posts: 110
- Joined date: Tue Mar 08, 2011 7:03 pm
- Post datetime: 2012-08-24T10:29:52+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from Axsis
>
> Working on bundle unpacking. Still in progress - this format is pretty complicated. And there is some encrypted data in bundle header, that, I believe, may be very useful.
Textures in bundles are without headers, so I manually added them. First 2 are from Lambo Aventador, last one is from UI.

> Reply from Axsis
>
> Hamidvip wrote:Axsis,which file you change manually to texture form? 
I've unpacked bundles first, then added DDS DXT5 header to some of the unpacked files. These headerless textures exists in almost every bundle.

As Axsis said, he added DDS DXT5 header to some of the unpacked files.

Can anebody please guide me what exactly he wrote to the DDS texture header file?
And how he did that, means: he opened the dds file with note-pad and added DDS DXT5 at the first line or with hex editor?

Can anybody please give a sample file or a simple tutorial how to add header lines to the DDS files.
## Post #80
- Username: Sir Kane
- Rank: veteran
- Number of posts: 104
- Joined date: Mon Aug 06, 2012 11:14 am
- Post datetime: 2012-08-24T10:38:30+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Does this game also have CAS/CAT files like BF3 does or only the .toc and .sb files? I made a tool a while ago that can extract certain files from BF3 (textures and the UI stuff) and it might work with this.
## Post #81
- Username: blackfoxeye
- Rank: veteran
- Number of posts: 110
- Joined date: Tue Mar 08, 2011 7:03 pm
- Post datetime: 2012-08-24T10:52:14+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from Sir Kane
>
> Does this game also have CAS/CAT files like BF3 does or only the .toc and .sb files? I made a tool a while ago that can extract certain files from BF3 (textures and the UI stuff) and it might work with this.

Actually I am much interested into BF3 Texture extraction, but nothing found till now, You are really great that, you made a tool for BF3, so can you please share that tool.  

And the NFS Run doesn't have CAS/CAT files.
## Post #82
- Username: nitoiviorel
- Rank: beginner
- Number of posts: 21
- Joined date: Fri Oct 07, 2011 6:37 pm
- Post datetime: 2012-08-24T15:20:06+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Why u need BF3 Texture extraction?
You lose ur time for nothing...
Nobody answer you here.Only Zench is able to reply sometimes...and he can help you in music extraction ..
## Post #83
- Username: blackfoxeye
- Rank: veteran
- Number of posts: 110
- Joined date: Tue Mar 08, 2011 7:03 pm
- Post datetime: 2012-08-24T16:21:26+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from nitoiviorel
>
> Why u need BF3 Texture extraction?
You lose ur time for nothing...
Nobody answer you here.Only Zench is able to reply sometimes...and he can help you in music extraction ..

Hi nitoiviorel,

Might be you haven't read "Sir Kane's" post above, he made a tool a while ago that can extract certain files from BF3 (textures and the UI stuff) etc.
## Post #84
- Username: nitoiviorel
- Rank: beginner
- Number of posts: 21
- Joined date: Fri Oct 07, 2011 6:37 pm
- Post datetime: 2012-08-25T14:13:37+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Hi.
Re.Yes i dont read that post.I dont understand why u need texture from this game?Soundtrack files are so complicated and not deserve to damage ur brain for such this...
OrangeC was have more patience than me.
But soundtrack is good for listening....texture for you is good for:...
## Post #85
- Username: nitoiviorel
- Rank: beginner
- Number of posts: 21
- Joined date: Fri Oct 07, 2011 6:37 pm
- Post datetime: 2012-09-03T06:27:50+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from OrangeC
>
> All sounds/music are in chunksAudio. Extraction is no problem with the script but the PC version uses a new variant of EA ADPCM so conversion is not possible, Also the music is splitted up into individual segments which are out of order so without the proper filenames combining those is almost impossible because the nams contain the proper marker order. On the xbox360 version the music uses packed EA XMA audio which you can demux with ea_multi_xma.

I have converted the music thus far but like i said i cannot determine an order to combine the dynamic segments since there is no names.

I do that but not all files wich result from extraction are demuxed.
Missing more parts from complete song.
How u demux all files extracted?
## Post #86
- Username: nitoiviorel
- Rank: beginner
- Number of posts: 21
- Joined date: Fri Oct 07, 2011 6:37 pm
- Post datetime: 2012-09-10T05:14:44+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Fucked.All files from ChunckAudio cannot be mixed because have no name and no order.
I listen just Original Soundtrack and OrangeC Line rip from game....
## Post #87
- Username: namquang93
- Rank: veteran
- Number of posts: 115
- Joined date: Mon Apr 09, 2012 3:40 pm
- Post datetime: 2012-10-21T09:27:56+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

can anyone reupload Axsis's sb UI unpacker.
## Post #88
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2013-03-06T13:56:25+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Just for reference I have improved a bit the script released by Axsis and currently I decided to maintain it, so if you are interested:
[http://aluigi.org/papers/bms/frostbite.bms](http://aluigi.org/papers/bms/frostbite.bms)
## Post #89
- Username: blackfoxeye
- Rank: veteran
- Number of posts: 110
- Joined date: Tue Mar 08, 2011 7:03 pm
- Post datetime: 2013-03-06T15:39:49+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Thank you very much "aluigi" for the script.

I have unpacked one ".sb .toc" file using your script, then I got lots of files with no extension.

I am completely blank to recognize that, which are the texture files.

Can any body please help.

I have unpacked "Level_0100_SanFrancisco.sb".
## Post #90
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2013-03-06T15:52:06+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

if you have files with the name ending with "blueprintbundle" there is not much to do because they are archives but their content is still not useful for modders.
Anyway if you are curious:
[http://aluigi.org/papers/bms/others/nfs ... bundle.bms](http://aluigi.org/papers/bms/others/nfstr_blueprintbundle.bms)
## Post #91
- Username: blackfoxeye
- Rank: veteran
- Number of posts: 110
- Joined date: Tue Mar 08, 2011 7:03 pm
- Post datetime: 2013-03-07T10:19:31+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

"aluigi" 

I have unpacked the blueprintbundle extracted from .sb file with your "nfstr_blueprintbundle.bms" but still didn't get any texture file.

I got proper folder structure that, the texture data should be there, but the files which seems textures are 1 kb in size.





I am unable to know how to get the texture files. Please help.
## Post #92
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2013-03-07T11:09:34+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

that's why I said that their content is still not useful for modders.

but personally I can cover only the extraction of the files, their content is not my job.
## Post #93
- Username: Sir Kane
- Rank: veteran
- Number of posts: 104
- Joined date: Mon Aug 06, 2012 11:14 am
- Post datetime: 2013-03-07T16:05:19+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

If this is similar to BF3, the textures objetcts contain just the header, which references the actual data by GUID.
## Post #94
- Username: blackfoxeye
- Rank: veteran
- Number of posts: 110
- Joined date: Tue Mar 08, 2011 7:03 pm
- Post datetime: 2013-03-08T09:24:32+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from aluigi
>
> that's why I said that their content is still not useful for modders.

but personally I can cover only the extraction of the files, their content is not my job.

Thank you for the answer, you are right.

It's my bad that, what can we do only with extracted data, if that is not useable.   

> Reply from Sir Kane
>
> If this is similar to BF3, the textures objetcts contain just the header, which references the actual data by GUID.

Have any body successfully extracted texture data from BF3 or NFS Run?
## Post #95
- Username: zhelatinobambino
- Rank: Moderator
- Number of posts: 955
- Joined date: Mon Mar 28, 2011 3:42 am
- Post datetime: 2013-03-10T07:28:34+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

aluigi did u try it with X360 files please ?
## Post #96
- Username: aluigi
- Rank: VVIP member
- Number of posts: 1916
- Joined date: Thu Dec 08, 2005 7:26 pm
- Post datetime: 2013-03-10T07:31:12+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

not yet, why? do they not work with the script?
## Post #97
- Username: OrangeC
- Rank: double-veteran
- Number of posts: 868
- Joined date: Sun Apr 20, 2008 9:58 am
- Post datetime: 2013-03-15T19:24:31+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

How do i find or match this file with the actual one in chunksaudiostream? any hash or address references?
[mus_loop_dl06_fight_a1_130_multi.rar](https://xentaxbackup.github.io/file/6270_mus_loop_dl06_fight_a1_130_multi.rar)
## Post #98
- Username: CrashAngel
- Rank: ultra-n00b
- Number of posts: 4
- Joined date: Sat Jul 21, 2012 4:55 am
- Post datetime: 2014-03-30T10:51:47+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Hello, I managed to extract the game files ... 

How is the procedure to find the type of files? 

How could rename the files with the name and GUID for the correct type?
## Post #99
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2016-04-05T16:04:51+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Was wondering.
Now that there is so much known information about this format.
Is it possible for the python script to be modified in such way like newer games, but with out the cas.cat file?
Because I have tried modifying a battlefront script and no matter what it will ask for those cat files, and even if I try to make the script to ignore cat file, nothing else will happen, kind of figured once it imports that sbtoc.py something shoud happen, but I was wrong.

What do you guys think, is it doable?

cheers
## Post #100
- Username: HOMiE7
- Rank: ultra-n00b
- Number of posts: 1
- Joined date: Fri Aug 04, 2017 3:05 am
- Post datetime: 2017-08-03T19:15:31+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from nitoiviorel
>
> Thank you orange.I finaly made to extract and demux chuncks audio from .sb.I converted that stream in to wav ussing Vgm Toolbox.I cant figure out how u put pieces in perfect order?Are to much splited files and so hard to put these files together and mix exactly like in game because have no order.
You have made a great job with this soundtrack.Score is so beautiful.The best score of need for speed series.I apreciate your work except ur selfish(ask you many times to help me but never reply).No Problem cause i have made by my self to decrypt,demux and convert.Thx again and have a good luck.

Here is all software's need for extracting demux and convert music from nfs the run.
http://www.mediafire.com/?r0f8ie4rgcq7e7f
Mentioned you need xbox version.

0.Extract content from iso xbox image using XBOX360ISOExtract.0.6.
1.Extract extensions FILE from chuncksaudio and chuncksaudio b using quickbms and read how u extract.txt.
2.With files result after extraction ,demux using Ea Multi Xma(u need know how use cmd ) .You got files with name AB325239698268468264_stream
3.Open up VGMToolbox - Misc. Tools - Stream tools - XMA -and select XMA Converter ,select frequency 44100 then drag and drop files there - anywhere in that window.

Wait for convert to wav.In the same folder with streamed files vgmtools created automaticaly folder with converted files.
Sorry for bad english
I hope i was helpful.Good luck!
Hello! I'm sorry for necro-posting, but can somebody re-upload that archive? File under that link is no longer available. I want to extract that interactive music. Thanks.
## Post #101
- Username: rithkhmer
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Tue Aug 08, 2017 6:20 am
- Post datetime: 2017-08-08T21:22:07+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Thank you very much for sharing such a beautiful article.

[](https://movie-review-2017.blogspot.com)
## Post #102
- Username: Andrei8398
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Thu Aug 30, 2018 6:08 am
- Post datetime: 2018-08-29T22:40:12+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Hey guys, here's a link to a zip containing some NFS The Run licensed songs (not interactive) which I extracted from Xbox360 files (ChunksAudio) following nitoiviorel's tutorial (they have pretty bad quality): [http://www.mediafire.com/file/pa2y12o76 ... p.zip/file](http://www.mediafire.com/file/pa2y12o76169bjl/nfs_the_run_soundtrack_gamerip.zip/file)
Thanks nitoiviorel for this great tutorial !
## Post #103
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2018-08-30T03:18:01+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from Andrei8398
>
> Hey guys, here's a link to a zip containing some NFS The Run licensed songs (not interactive) which I extracted from Xbox360 files (ChunksAudio) following nitoiviorel's tutorial (they have pretty bad quality): http://www.mediafire.com/file/pa2y12o76 ... p.zip/file
Thanks nitoiviorel for this great tutorial !
I wanted to check the files myself, but it seems it was taken down due to copyright infringements I think, I wonder who's monitoring this thread, from EA, maybe? hmmmm, but anyway, I am confused though as to why you posted the link with the files? files like that are illegal according to forum rules!
You need help in a specific way, where you trying to achieve something different?
What where the titles of the so called licensed songs, and why couldn't you get them from around like any other song, or are they available ONLY in this game?
Because they extract just fine from both PS3 and PC, yet I can convert them properly ONLY from PC version.
## Post #104
- Username: Andrei8398
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Thu Aug 30, 2018 6:08 am
- Post datetime: 2018-08-30T08:09:05+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

mono24 I apologize for sharing illegal files, my bad ! The licensed songs from this game can be found on YouTube, iTunes etc but I prefer listening to "EA versions" since they are mixed more better (they have no long intros, no "curse words" etc). I saw your LOG file, can you make a tutorial on how to extract the files from PC/PS3 version of this game ? Or it's the same procedure as Xbox360 version? Thanks for your help !
## Post #105
- Username: Andrei8398
- Rank: ultra-n00b
- Number of posts: 3
- Joined date: Thu Aug 30, 2018 6:08 am
- Post datetime: 2018-08-30T09:39:47+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

mono24 After looking to your LOG file, I realized these are the files that I'm interested to obtain from PC/PS3 version of the game:
"Directory of I:\FBAudio_test\_c4\Sound\Music\Songs\Licensed_Music

<DIR>          .
<DIR>          ..
    67,390,544 MX_Licensed_BlackAngels_BetterOffAlone_wave 0 0 0.wav
    68,870,224 MX_Licensed_BlackLips_TheLie_wave 0 0 0.wav
    85,473,360 MX_Licensed_BlackPistolFire_TriggerOnMyFire2 0 0 0.wav
    57,312,336 MX_Licensed_BrianJonestownmassacre_TheWayItWas_wave 0 0 0.wav
     3,587,152 MX_Licensed_BRMC_BeatTheDevilsTattoo_1a_head_wave 0 0 0.wav
    22,305,872 MX_Licensed_BRMC_BeatTheDevilsTattoo_2a_body_head_wave 0 0 0.wav
    52,680,784 MX_Licensed_BRMC_BeatTheDevilsTattoo_2b_body_loop_wave 0 0 0.wav
       725,072 MX_Licensed_BRMC_BeatTheDevilsTattoo_2c_tail_wave 0 0 0.wav
     2,094,160 MX_Licensed_CannedHeat_OnTheRoadAgain_1a_head_wave 0 0 0.wav
    68,301,904 MX_Licensed_CannedHeat_OnTheRoadAgain_1b_body_loop_wave 0 0 0.wav
    26,372,176 MX_Licensed_CannedHeat_OnTheRoadAgain_1c_tail_wave 0 0 0.wav
     2,785,360 MX_Licensed_CannedHeat_OnTheRoadAgain_SC091_1a_head_wave 0 0 0.wav
       852,048 MX_Licensed_DanAuerbach_HeartbrokenInDisrepair_1a_head_wave 0 0 0.wav
    64,948,304 MX_Licensed_DanAuerbach_HeartbrokenInDisrepair_1b_body_loop_wave 0 0 0.wav
     4,530,256 MX_Licensed_DanAuerbach_HeartbrokenInDisrepair_1c_Tail 0 0 0.wav
     2,466,896 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_1a_head_wave 0 0 0.wav
     3,265,616 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_1b_body_wave 0 0 0.wav
     2,946,128 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_1c_tail_wave 0 0 0.wav
     8,196,176 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_2a_fail_head_wave 0 0 0.wav
     2,361,424 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_2b_fail_loop_wave 0 0 0.wav
     9,684,048 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_body_CP1_wave 0 0 0.wav
    13,167,696 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_body_CP2_wave 0 0 0.wav
    16,117,840 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_body_CP3_Wave 0 0 0.wav
    21,852,240 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_body_CP4_wave 0 0 0.wav
     1,462,352 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_trans_CP2_wave 0 0 0.wav
       845,904 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_trans_CP3_wave 0 0 0.wav
       876,624 MX_Licensed_DanAuerbac_HeartBrokenInDisrepair_1_5_trans_CP4_wave 0 0 0.wav
    17,022,032 MX_Licensed_DeadWeather_TreatMeLikeYourMother_1a_head_wave 0 0 0.wav
    49,602,640 MX_Licensed_DeadWeather_TreatMeLikeYourMother_1b_body_loop_wave 0 0 0.wav
     8,651,856 MX_Licensed_DeadWeather_TreatMeLikeYourMother_1c_tail_wave 0 0 0.wav
    67,236,944 MX_Licensed_Donovan_RikiTikiTavi_wave 0 0 0.wav
    78,524,496 MX_Licensed_Endless_Boogie_EmptyEye_wave 0 0 0.wav
     1,494,096 MX_Licensed_GaryClarkJr_DontOweYouAThing_1a_head_wave 0 0 0.wav
    56,132,688 MX_Licensed_GaryClarkJr_DontOweYouAThing_1b_body_loop_wave 0 0 0.wav
    22,021,200 MX_Licensed_GaryClarkJr_DontOweYouAThing_1c_tail_wave 0 0 0.wav
     7,620,688 MX_Licensed_GaryClarkJr_DOYAT_SC021A_Get_To_Vegas_start_1a_Head_wave 0 0 0.wav
     5,494,864 MX_Licensed_Girlschool_CmonLetsGo_1a_head_wave 0 0 0.wav
    61,090,896 MX_Licensed_Girlschool_CmonLetsGo_1b_body_loop_wave 0 0 0.wav
    24,097,872 MX_Licensed_GirlsVSBoys_BulletproofCupid_FINALCLEAN_10_31a_1a_head_wave 0 0 0.wav
    26,685,520 MX_Licensed_GirlsVSBoys_BulletproofCupid_FINALCLEAN_1a_head_wave 0 0 0.wav
    53,402,704 MX_Licensed_GirlsVSBoys_BulletproofCupid_FINALCLEAN_1b_body_loop_wave 0 0 0.wav
    25,936,976 MX_Licensed_GirlsVSBoys_BulletproofCupid_FINALCLEAN_1c_tail_wave 0 0 0.wav
    68,073,552 MX_Licensed_HandsomeFurs_Damage2 0 0 0.wav
       543,824 MX_Licensed_LykkeLi_GetSome_CleanUpdated_1a_Head_wave 0 0 0.wav
    72,346,704 MX_Licensed_LykkeLi_GetSome_CleanUpdated_1b_Body_loop_wave 0 0 0.wav
     1,eLi_GetSome_CleanUpdated_1c_tail_wave 0 0 0.wav
    80,200,784 MX_Licensed_Mastodon_CurlOfTheBurCLEANFINAL_wave 0 0 0.wav
   109,4eClassRut_AliveOrDead2 0 0 0.wav
     6,898,768 MX_Licensed_Ministry_NWO_AlbumVersion_1a_head_wave 0 0 0.wav
    31,858,768 MX_Licensed_Ministry_NWO_AlbumVersion_3c_body_loop_wave 0 0 0.wav
     9,619,536 MX_Licensed_Ministry_NWO_AlbumVersion_4a_tail_wave 0 0 0.wav
     5,878,864 MX_Licensed_Ministry_NWO_SC054_Police_Activity_1a_head_bpm160_wave 0 0 0.wav
    64,436,304 MX_Licensed_MonstrO_Solar_wave 0 0 0.wav
    81,810,512 MX_Licensed_RedFang_PrehistoricDog_wave 0 0 0.wav
    25,323,600 MX_Licensed_REVHORTHEAT_BigRedRocketofLove_CLEAN_FINAL_1a_head_wave 0 0 0.wav
    38,003,792 MX_Licensed_REVHORTHEAT_BigRedRocketofLove_CLEAN_FINAL_1b_bodyloop_wave 0 0 0.wav
     6,177,872 MX_Licensed_REVHORTHEAT_BigRedRocketofLove_CLEAN_FINAL_1c_tail_wave 0 0 0.wav
    17,488,976 MX_Licensed_Ritmo_Machine_LaCalleCLEANFINAL_13_31_NIS_head_1a_wave 0 0 0.wav
    32,979,024 MX_Licensed_Ritmo_Machine_LaCalleCLEANFINAL_bodyloop_1b_wave 0 0 0.wav
    16,498,768 MX_Licensed_Ritmo_Machine_LaCalleCLEANFINAL_head_1a_wave 0 0 0.wav
     7,979,chine_LaCalleCLEANFINAL_tail_1c_wave 0 0 0.wav
    59,189,328 MX_Licensed_RivalSons_SaveMe2 0 0 0.wav
   101,643,344 MX_Licensed_TheLondonSouls_TheSound_wave 0 0 0.wav
    44,236,880 MX_Licensed_The_Black_Keys_LonelyBoy_confidential_1a_head_wave 0 0 0.wav
    24,075,344 MX_Licensed_The_Black_Keys_LonelyBoy_confidential_1b_bodyloop_wave 0 0 0.wav
     3,753,040 MX_Licensed_The_Black_Keys_LonelyBoy_confidential_1c_tail_wave 0 0 0.wav
   107,143,248 MX_Licensed_UNKLE_TakeTheMoneyAndRun2 0 0 0.wav"
Thanks !
## Post #106
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2018-08-31T04:08:34+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from Andrei8398
>
> can you make a tutorial on how to extract the files from PC/PS3 version of this game ? Or it's the same procedure as Xbox360 version? Thanks for your help !
Oh there are so many tutorials here in the forum that its not even funny, just requires you know, a little bit of patience to go trough the steps, and no it has nothing to do the xbox version tutorial, those steps where not the way to get the files out in a proper way.
Basically the key word to look for is Battlefield 3 because such as NFSTR is part of the Frostbite 2 engine and there's lots of tutorials on what to do with the game assets and if you look it up what ever was used for the Battlefield 3 game it works for NFSTR same way.
## Post #107
- Username: AxelNoir
- Rank: mega-veteran
- Number of posts: 247
- Joined date: Sat Feb 03, 2018 4:24 am
- Post datetime: 2021-01-27T17:26:23+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

How do you extract car models with this? There's no clearly written tutorial here.
## Post #108
- Username: nitoiviorel81
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Jul 14, 2017 10:43 am
- Post datetime: 2022-10-28T20:26:24+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Hello!
Can anyone make these extracted files from chunck.sb from pc version to be playable?
Here is the link with all extracted files.
Please help.I want see quality of pc version soundtrack.
[https://mega.nz/file/y2JGgZRC#4Ik_inWli ... M2w5YRNzXs](https://mega.nz/file/y2JGgZRC#4Ik_inWliXCJHxnwONetw2rr2EjhWYFscM2w5YRNzXs)
## Post #109
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2022-10-28T22:58:06+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from nitoiviorel81 Sat Oct 29, 2022 4:26 am at Sat Oct 29, 2022 4:26 am
>
> ...Can anyone make these extracted files from chunck.sb from pc version to be playable?...
Everything you need is right here: [https://github.com/NicknineTheEagle/Frostbite-Scripts](https://github.com/NicknineTheEagle/Frostbite-Scripts)
First you dump the game, then use the ebxtoasset script to get the audios in playable form using foobar2000/vgmstream.
## Post #110
- Username: nitoiviorel81
- Rank: ultra-n00b
- Number of posts: 6
- Joined date: Fri Jul 14, 2017 10:43 am
- Post datetime: 2022-10-29T11:56:14+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Thanks but i am old now and i dont know how to use that codes.
Can you do this for me please?:)
## Post #111
- Username: eblansson
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Sep 18, 2021 2:20 am
- Post datetime: 2023-07-07T20:22:21+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Prolly dead thread, and the other one was about meshes, but I still wanted to ask if anyone would have a solution.

I'm trying to make broken dds textures of NFS:TR cars dumped with [Nicknine's script](https://github.com/NicknineTheEagle/Frostbite-Scripts) work.

I've noticed a pattern (maybe) that the broken textures share: among the defined values inside the .dxTexture, the "First mipmap" at 27th byte has value of 1.
Other textures work ok and their first mipmap is 0.

I tried looking at the chunk using ifranview, xnview and daemon1's Raw texture cooker, but it really just looks like this, like a bunch of mipmaps mashed together. The header seems  to be in order i think

(this is LAM_AVE_700_12_ENGINE, supposed to be DXT1. The name of the image is the name of the chunk, which is also c588ec3c-d94b-6da3-3488-b0fda4b25545.). I have a suspicion that the first, highest-res mipmap is just in a separate chunk from the others for some reason.

The funniest thing is that [Axsis had managed to convert these textures 11 years ago](https://forum.xentax.com/viewtopic.php?t=7679&start=45), but they haven't been active since 2021.

Would be nice to hear any ideas on how to make this work ngl. [Here's the chunk file](https://drive.google.com/drive/folders/1z2WJRiOY6hyuWrvPq8tnACi2ExOxCi1G?usp=sharing), i can also send any other related file if needed
[3cec88c54bd9a36d3488b0fda4b25545.jpg](https://xentaxbackup.github.io/file/24032_3cec88c54bd9a36d3488b0fda4b25545.jpg)
## Post #112
- Username: mono24
- Rank: double-veteran
- Number of posts: 848
- Joined date: Sat Nov 06, 2010 7:27 am
- Post datetime: 2023-07-08T11:12:21+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

> Reply from eblansson Sat Jul 08, 2023 4:22 am at Sat Jul 08, 2023 4:22 am
>
> ...I'm trying to make broken dds textures of NFS:TR cars dumped with Nicknine's script work...
I'd suggest to open up a issue on his GitHub, who knows, maybe he'll get back to the script to finish it, its still broken in a way.
## Post #113
- Username: eblansson
- Rank: ultra-n00b
- Number of posts: 7
- Joined date: Sat Sep 18, 2021 2:20 am
- Post datetime: 2023-07-18T01:07:49+00:00
- Post Title: Re: Need For Speed: The Run [.SB & .TOC]

Well apparently the issue was that some textures are split by mipmaps between 2 chunks. The 2 chunks have the same name but are located in 2 different chunk folders (root/chunks and root/bundles/chunks). I'm not sure if it's a FB2 thing or just The Run's thing.

One chunk has the highest resolution mipmap, and the other chunk has the rest. You can simply append the smaller chunk to the bigger one and you'll have all the mipmaps.

So when you are merging dumped chunk folders, DO NOT replace the files with similar names, since they may have different texture data. Just leave both folders with chunks around.

The asset conversion script can be easily modified to get full texture data from both chunks. I made a modification for myself on a fork, but I'd rather wait for a commit from NicknineTheEagle.
